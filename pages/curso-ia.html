<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA en Acci√≥n: Centro de Lenguas Modernas - UGT-CLM-UGR Granada</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/suggestions.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <style>
        .course-hero {
            background: linear-gradient(135deg, #1a237e 0%, #0d47a1 100%) !important;
            color: white !important;
            padding: 150px 0 80px;
            margin-top: 80px;
        }

        /* Remove the red overlay from global CSS */
        .course-hero::before {
            display: none !important;
        }

        .course-hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            line-height: 1.2;
            color: white !important;
        }

        .course-hero .subtitle {
            font-size: 1.5rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
            color: white !important;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .course-hero .hero-subtitle {
            color: white !important;
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 2rem;
        }

        .course-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .course-meta-header {
            display: flex;
            gap: 2rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255,255,255,0.1);
            padding: 0.5rem 1rem;
            border-radius: 25px;
            backdrop-filter: blur(10px);
        }

        .program-section {
            background: white;
            border-radius: 15px;
            padding: 3rem;
            margin: 2rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .bloque {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            border-left: 5px solid var(--primary-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .bloque:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .bloque-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .bloque-number {
            background: var(--primary-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: bold;
        }

        .bloque-duration {
            background: rgba(102, 126, 234, 0.1);
            color: var(--primary-color);
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: 600;
        }

        .bloque h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .bloque-topics {
            list-style: none;
            padding-left: 0;
        }

        .bloque-topics li {
            padding: 0.7rem 0;
            display: flex;
            align-items: flex-start;
            gap: 0.8rem;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .bloque-topics li:last-child {
            border-bottom: none;
        }

        .bloque-topics li::before {
            content: '‚úì';
            color: #4CAF50;
            font-weight: bold;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .enrollment-section {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 3rem;
            border-radius: 15px;
            text-align: center;
            margin: 3rem 0;
        }

        .price-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        .price-card {
            background: white;
            color: var(--text-dark);
            padding: 2.5rem;
            border-radius: 15px;
            position: relative;
            transition: transform 0.3s ease;
        }

        .price-card:hover {
            transform: translateY(-10px);
        }

        .price-card.featured {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .price-card.featured::before {
            content: 'RECOMENDADO';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent-color);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .perfiles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .perfil-card {
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .perfil-card h3 {
            font-size: 1.3rem;
            margin-bottom: 0.8rem;
            font-weight: 600;
        }

        .perfil-card p {
            font-size: 1rem;
            line-height: 1.6;
            opacity: 0.95;
        }

        .perfil-card:hover {
            transform: translateY(-10px);
        }

        .perfil-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 1rem;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            backdrop-filter: blur(10px);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .week-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-top: 4px solid var(--primary-color);
        }

        .week-number {
            background: var(--primary-color);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 1rem;
        }

        .metodologia-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .metodologia-item {
            text-align: center;
            padding: 2rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .metodologia-item:hover {
            transform: translateY(-10px);
        }

        .metodologia-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 1rem;
            background: linear-gradient(135deg, #1a237e, #0d47a1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
        }

        .session-structure {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .session-step {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem;
            margin: 0.5rem 0;
            background: white;
            border-radius: 8px;
        }

        .step-number {
            background: var(--primary-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        @media (max-width: 768px) {
            .course-hero h1 {
                font-size: 2rem;
            }

            .course-hero .subtitle {
                font-size: 1.2rem;
            }

            .price-cards {
                grid-template-columns: 1fr;
            }

            .price-card.featured {
                transform: none;
            }

            .bloque {
                padding: 1.5rem;
            }

            /* Estilos para indicadores de dificultad y progreso */
            .bloque-header {
                flex-wrap: wrap;
                gap: 1rem;
                align-items: center;
            }

            .difficulty-indicator,
            .progress-indicator {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                font-size: 0.85rem;
                padding: 0.3rem 0.6rem;
                background: rgba(255,255,255,0.1);
                border-radius: 15px;
                backdrop-filter: blur(5px);
            }

            .difficulty-label,
            .progress-label {
                font-weight: 500;
                color: #666;
                min-width: 40px;
            }

            .difficulty-bar,
            .progress-bar {
                width: 60px;
                height: 6px;
                background: #e0e0e0;
                border-radius: 3px;
                overflow: hidden;
                position: relative;
            }

            .difficulty-fill,
            .progress-fill {
                height: 100%;
                border-radius: 3px;
                transition: width 0.8s ease;
                position: relative;
            }

            .difficulty-fill::after,
            .progress-fill::after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
                animation: shimmer 2s infinite;
            }

            .difficulty-text,
            .progress-text {
                font-weight: 600;
                min-width: 60px;
                text-align: center;
            }

            /* Colores seg√∫n dificultad */
            .bloque[data-difficulty="beginner"] .difficulty-text {
                color: #4caf50;
            }

            .bloque[data-difficulty="intermediate"] .difficulty-text {
                color: #ff9800;
            }

            .bloque[data-difficulty="advanced"] .difficulty-text {
                color: #f44336;
            }

            /* Animaciones para los indicadores */
            .bloque:hover .difficulty-indicator,
            .bloque:hover .progress-indicator {
                transform: scale(1.05);
                transition: transform 0.3s ease;
            }

            .bloque:hover .difficulty-fill,
            .bloque:hover .progress-fill {
                animation: progressPulse 1s ease-in-out infinite;
            }

            @keyframes progressPulse {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.7; }
            }

            /* Efectos de progreso animado */
            .progress-fill {
                position: relative;
            }

            .progress-fill::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
                animation: progressSweep 2s ease-in-out infinite;
            }

            @keyframes progressSweep {
                0% { left: -100%; }
                50% { left: 100%; }
                100% { left: 100%; }
            }

            /* Responsive */
            @media (max-width: 768px) {
                .bloque-header {
                    flex-direction: column;
                    align-items: stretch;
                }

                .difficulty-indicator,
                .progress-indicator {
                    justify-content: space-between;
                }

                .difficulty-bar,
                .progress-bar {
                    width: 80px;
                }

                /* Fix nav sticky en m√≥vil */
                .nav-container {
                    flex-direction: column !important;
                    gap: 0.5rem !important;
                    overflow-x: visible !important;
                }

                .nav-links {
                    flex-wrap: wrap !important;
                    gap: 0.5rem !important;
                    justify-content: center !important;
                    font-size: 0.75rem !important;
                }

                .nav-link {
                    padding: 0.4rem 0.8rem !important;
                    font-size: 0.75rem !important;
                }

                .quick-spots {
                    font-size: 0.75rem !important;
                    padding: 0.4rem 0.8rem !important;
                }

                .quick-enroll {
                    width: 100% !important;
                    max-width: 300px !important;
                    text-align: center !important;
                    padding: 0.8rem 1rem !important;
                    font-size: 0.85rem !important;
                }
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand" id="navBrand">
                    <img src="../images/brand/ugt-logo.PNG" alt="UGT Logo" class="logo">
                    <div class="brand-text">
                        <h1>UGT-CLM-UGR Granada</h1>
                        <p>Secci√≥n Sindical</p>
                    </div>
                </div>
                <ul class="nav-menu">
                    <li><a href="../index.html">Inicio</a></li>
                    <li><a href="../index.html#cursos">Cursos</a></li>
                    <li><a href="../index.html#afiliate">Af√≠liate</a></li>
                    <li><a href="../index.html#contacto">Contacto</a></li>
                    <li><a href="../admin.html" class="btn-admin"><i class="fas fa-cog"></i> Admin</a></li>
                    <li><a href="javascript:void(0);" class="btn-login" onclick="document.getElementById('loginModal').style.display='block';"><i class="fas fa-user"></i> Acceso</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Course Hero -->
    <section class="course-hero">
        <div class="course-content">
            <p class="subtitle">Jornadas de Introducci√≥n a la IA</p>
            <h1>IA en Acci√≥n: Transformando el Centro de Lenguas Modernas</h1>
            <p class="hero-subtitle">Formaci√≥n pr√°ctica en Inteligencia Artificial dise√±ada espec√≠ficamente para el personal del Centro de Lenguas Modernas de la Universidad de Granada</p>

            <!-- Contador de Plazas Disponibles -->
            <div class="spots-counter" style="background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); border: 2px solid rgba(255,255,255,0.3); border-radius: 15px; padding: 1.5rem; margin: 2rem 0; text-align: center;">
                <div style="display: flex; align-items: center; justify-content: center; gap: 2rem; flex-wrap: wrap;">
                    <div style="flex: 1; min-width: 200px;">
                        <div style="color: #4caf50; font-size: 2.5rem; font-weight: bold; margin-bottom: 0.5rem;">
                            <span id="availableSpots">12</span><span style="font-size: 1.5rem;">/15</span>
                        </div>
                        <div style="color: white; font-size: 1.1rem; font-weight: 500;">PLAZAS DISPONIBLES</div>
                        <div style="color: rgba(255,255,255,0.8); font-size: 0.9rem; margin-top: 0.5rem;">
                            <i class="fas fa-check-circle"></i> ¬°Plazas disponibles!
                        </div>
                    </div>
                    <div style="flex: 1; min-width: 200px;">
                        <div style="background: rgba(255,255,255,0.2); border-radius: 10px; padding: 1rem; margin-bottom: 1rem;">
                            <div style="width: 100%; height: 8px; background: rgba(255,255,255,0.3); border-radius: 4px; overflow: hidden;">
                                <div id="spotsProgress" style="width: 20%; height: 100%; background: linear-gradient(90deg, #4caf50, #66bb6a); border-radius: 4px; transition: width 0.5s ease;"></div>
                            </div>
                            <div style="color: white; font-size: 0.85rem; margin-top: 0.5rem;">
                                <span id="spotsPercentage">20%</span> de las plazas ya reservadas
                            </div>
                        </div>
                        <div style="color: rgba(255,255,255,0.9); font-size: 0.85rem; line-height: 1.4;">
                            <i class="fas fa-clock"></i> Inicio: Viernes <span id="nextFriday">Pr√≥ximo</span><br>
                            <i class="fas fa-users"></i> <span id="enrolledCount">3</span> personas ya inscritas
                        </div>
                    </div>
                </div>
            </div>

            <div class="course-meta-header">
                <div class="meta-item">
                    <i class="fas fa-clock"></i>
                    <span>20 horas (30 sesiones)</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-video"></i>
                    <span>Por Zoom</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Viernes (ma√±ana y tarde)</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-laptop-code"></i>
                    <span>40 min/sesi√≥n</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-certificate"></i>
                    <span>Certificado UGT</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-users"></i>
                    <span>Plazas limitadas</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Navegaci√≥n Sticky -->
    <nav id="stickyNav" class="sticky-navigation" style="
        position: sticky;
        top: 0;
        background: linear-gradient(135deg, #1a237e 0%, #3949ab 100%);
        color: white;
        padding: 1rem 0;
        z-index: 1000;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        backdrop-filter: blur(10px);
        border-bottom: 2px solid rgba(255,255,255,0.1);
    ">
        <div class="course-content">
            <div class="nav-container" style="display: flex; justify-content: space-between; align-items: center; gap: 1rem; overflow-x: auto;">
                <!-- Enlaces de navegaci√≥n -->
                <div class="nav-links" style="display: flex; gap: 1.5rem; align-items: center; flex-wrap: nowrap;">
                    <a href="#journey" class="nav-link" style="color: white; text-decoration: none; padding: 0.5rem 1rem; border-radius: 20px; background: rgba(255,255,255,0.1); transition: all 0.3s ease; white-space: nowrap; font-size: 0.9rem;">
                        <i class="fas fa-route"></i> Tu Ruta
                    </a>
                    <a href="#program" class="nav-link" style="color: white; text-decoration: none; padding: 0.5rem 1rem; border-radius: 20px; background: rgba(255,255,255,0.1); transition: all 0.3s ease; white-space: nowrap; font-size: 0.9rem;">
                        <i class="fas fa-book-open"></i> Programa
                    </a>
                    <a href="#profiles" class="nav-link" style="color: white; text-decoration: none; padding: 0.5rem 1rem; border-radius: 20px; background: rgba(255,255,255,0.1); transition: all 0.3s ease; white-space: nowrap; font-size: 0.9rem;">
                        <i class="fas fa-users"></i> Perfiles
                    </a>
                    <a href="#credentials" class="nav-link" style="color: white; text-decoration: none; padding: 0.5rem 1rem; border-radius: 20px; background: rgba(255,255,255,0.1); transition: all 0.3s ease; white-space: nowrap; font-size: 0.9rem;">
                        <i class="fas fa-award"></i> Certificaciones
                    </a>
                    <a href="#enrollment" class="nav-link" style="color: white; text-decoration: none; padding: 0.5rem 1rem; border-radius: 20px; background: rgba(255,255,255,0.1); transition: all 0.3s ease; white-space: nowrap; font-size: 0.9rem;">
                        <i class="fas fa-rocket"></i> Inscripci√≥n
                    </a>
                </div>

                <!-- Indicador r√°pido de plazas -->
                <div class="quick-spots" style="background: rgba(255,255,255,0.2); padding: 0.5rem 1rem; border-radius: 15px; display: flex; align-items: center; gap: 0.5rem; white-space: nowrap;">
                    <i class="fas fa-fire" style="color: #ff6b6b;"></i>
                    <span style="font-size: 0.85rem; font-weight: 600;">
                        <span id="quickSpots">12</span>/<span id="quickTotal">15</span> plazas
                    </span>
                </div>

                <!-- Bot√≥n de inscripci√≥n r√°pida -->
                <a href="#enrollment" class="quick-enroll" style="
                    background: #4caf50;
                    color: white;
                    padding: 0.7rem 1.5rem;
                    border-radius: 25px;
                    text-decoration: none;
                    font-weight: 600;
                    font-size: 0.9rem;
                    white-space: nowrap;
                    transition: all 0.3s ease;
                    box-shadow: 0 2px 10px rgba(76, 175, 80, 0.3);
                ">
                    <i class="fas fa-bolt"></i> Inscribirme Ya
                </a>
            </div>
        </div>
    </nav>

    <!-- Infograf√≠a Animada del Proceso de Aprendizaje -->
    <section id="journey" class="section" style="background: #f8f9fa; padding: 4rem 0;">
        <div class="course-content">
            <div class="section-header">
                <h2 style="color: #1a237e; margin-bottom: 1rem;">Tu Camino de Aprendizaje en IA</h2>
                <p style="font-size: 1.2rem; color: #666;">Un viaje transformador en 5 etapas</p>
            </div>

            <div class="learning-journey" style="position: relative; max-width: 1000px; margin: 0 auto;">
                <!-- L√≠nea de tiempo -->
                <div class="timeline-line" style="position: absolute; left: 50%; top: 0; bottom: 0; width: 4px; background: linear-gradient(180deg, #667eea 0%, #764ba2 50%, #ff6b6b 100%); transform: translateX(-50%); border-radius: 2px;"></div>

                <!-- Etapas del aprendizaje -->
                <div class="journey-stage" data-stage="1" style="display: flex; align-items: center; margin-bottom: 3rem; opacity: 0; transform: translateY(30px); transition: all 0.6s ease;">
                    <div class="stage-content" style="flex: 1; text-align: right; padding-right: 3rem;">
                        <div class="stage-number" style="background: #667eea; color: white; width: 40px; height: 40px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-weight: bold; margin-bottom: 1rem;">1</div>
                        <h3 style="color: #1a237e; margin-bottom: 0.5rem;">Descubrimiento</h3>
                        <p style="color: #666; line-height: 1.6;">Exploras los conceptos fundamentales de la IA y su aplicaci√≥n en tu entorno laboral.</p>
                        <div class="stage-icon" style="font-size: 2rem; color: #667eea; margin-top: 1rem;">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                    </div>
                    <div class="stage-point" style="width: 20px; height: 20px; background: #667eea; border: 4px solid white; border-radius: 50%; position: relative; z-index: 2; box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.2);"></div>
                    <div class="stage-empty" style="flex: 1;"></div>
                </div>

                <div class="journey-stage" data-stage="2" style="display: flex; align-items: center; margin-bottom: 3rem; opacity: 0; transform: translateY(30px); transition: all 0.6s ease;">
                    <div class="stage-empty" style="flex: 1;"></div>
                    <div class="stage-point" style="width: 20px; height: 20px; background: #764ba2; border: 4px solid white; border-radius: 50%; position: relative; z-index: 2; box-shadow: 0 0 0 4px rgba(118, 75, 162, 0.2);"></div>
                    <div class="stage-content" style="flex: 1; text-align: left; padding-left: 3rem;">
                        <div class="stage-number" style="background: #764ba2; color: white; width: 40px; height: 40px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-weight: bold; margin-bottom: 1rem;">2</div>
                        <h3 style="color: #1a237e; margin-bottom: 0.5rem;">Experimentaci√≥n</h3>
                        <p style="color: #666; line-height: 1.6;">Manejas herramientas reales de IA en casos pr√°cticos adaptados al CLM.</p>
                        <div class="stage-icon" style="font-size: 2rem; color: #764ba2; margin-top: 1rem;">
                            <i class="fas fa-flask"></i>
                        </div>
                    </div>
                </div>

                <div class="journey-stage" data-stage="3" style="display: flex; align-items: center; margin-bottom: 3rem; opacity: 0; transform: translateY(30px); transition: all 0.6s ease;">
                    <div class="stage-content" style="flex: 1; text-align: right; padding-right: 3rem;">
                        <div class="stage-number" style="background: #9c27b0; color: white; width: 40px; height: 40px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-weight: bold; margin-bottom: 1rem;">3</div>
                        <h3 style="color: #1a237e; margin-bottom: 0.5rem;">Aplicaci√≥n</h3>
                        <p style="color: #666; line-height: 1.6;">Implementas soluciones de IA en tus tareas diarias del centro.</p>
                        <div class="stage-icon" style="font-size: 2rem; color: #9c27b0; margin-top: 1rem;">
                            <i class="fas fa-cogs"></i>
                        </div>
                    </div>
                    <div class="stage-point" style="width: 20px; height: 20px; background: #9c27b0; border: 4px solid white; border-radius: 50%; position: relative; z-index: 2; box-shadow: 0 0 0 4px rgba(156, 39, 176, 0.2);"></div>
                    <div class="stage-empty" style="flex: 1;"></div>
                </div>

                <div class="journey-stage" data-stage="4" style="display: flex; align-items: center; margin-bottom: 3rem; opacity: 0; transform: translateY(30px); transition: all 0.6s ease;">
                    <div class="stage-empty" style="flex: 1;"></div>
                    <div class="stage-point" style="width: 20px; height: 20px; background: #ff9800; border: 4px solid white; border-radius: 50%; position: relative; z-index: 2; box-shadow: 0 0 0 4px rgba(255, 152, 0, 0.2);"></div>
                    <div class="stage-content" style="flex: 1; text-align: left; padding-left: 3rem;">
                        <div class="stage-number" style="background: #ff9800; color: white; width: 40px; height: 40px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-weight: bold; margin-bottom: 1rem;">4</div>
                        <h3 style="color: #1a237e; margin-bottom: 0.5rem;">Colaboraci√≥n</h3>
                        <p style="color: #666; line-height: 1.6;">Trabajas en equipo en proyectos innovadores para el CLM.</p>
                        <div class="stage-icon" style="font-size: 2rem; color: #ff9800; margin-top: 1rem;">
                            <i class="fas fa-users"></i>
                        </div>
                    </div>
                </div>

                <div class="journey-stage" data-stage="5" style="display: flex; align-items: center; margin-bottom: 3rem; opacity: 0; transform: translateY(30px); transition: all 0.6s ease;">
                    <div class="stage-content" style="flex: 1; text-align: right; padding-right: 3rem;">
                        <div class="stage-number" style="background: #4caf50; color: white; width: 40px; height: 40px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-weight: bold; margin-bottom: 1rem;">5</div>
                        <h3 style="color: #1a237e; margin-bottom: 0.5rem;">Transformaci√≥n</h3>
                        <p style="color: #666; line-height: 1.6;">Te conviertes en un agente de cambio con IA en el CLM.</p>
                        <div class="stage-icon" style="font-size: 2rem; color: #4caf50; margin-top: 1rem;">
                            <i class="fas fa-rocket"></i>
                        </div>
                    </div>
                    <div class="stage-point" style="width: 20px; height: 20px; background: #4caf50; border: 4px solid white; border-radius: 50%; position: relative; z-index: 2; box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.2);"></div>
                    <div class="stage-empty" style="flex: 1;"></div>
                </div>

                <!-- Resultado Final -->
                <div class="journey-result" style="text-align: center; margin-top: 4rem; padding: 2rem; background: linear-gradient(135deg, #1a237e 0%, #667eea 100%); border-radius: 20px; color: white; opacity: 0; transform: translateY(30px); transition: all 0.8s ease;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üéì</div>
                    <h3 style="font-size: 1.8rem; margin-bottom: 1rem;">¬°Listo para Transformar el CLM con IA!</h3>
                    <p style="font-size: 1.1rem; opacity: 1; max-width: 600px; margin: 0 auto; line-height: 1.6; color: #ffffff; text-shadow: 0 1px 2px rgba(0,0,0,0.3);">
                        Habr√°s adquirido las competencias necesarias para aplicar inteligencia artificial en tu trabajo diario,
                        optimizar procesos y liderar la innovaci√≥n en el Centro de Lenguas Modernas.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Badges de Credenciales y Acreditaciones -->
    <section id="credentials" class="section" style="background: white; padding: 4rem 0;">
        <div class="course-content">
            <div class="section-header">
                <h2 style="color: #1a237e; margin-bottom: 1rem;">Credenciales y Acreditaciones</h2>
                <p style="font-size: 1.2rem; color: #666;">Reconocimiento oficial y garant√≠a de calidad</p>
            </div>

            <div class="credentials-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; max-width: 1000px; margin: 0 auto;">

                <!-- Badge UGT-CLM -->
                <div class="credential-badge" style="background: linear-gradient(135deg, #1a237e 0%, #3949ab 100%); color: white; padding: 2rem; border-radius: 15px; text-align: center; position: relative; overflow: hidden; opacity: 0; transform: translateY(30px); transition: all 0.6s ease;">
                    <div class="badge-shine" style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent); transform: rotate(45deg); animation: shine 3s infinite;"></div>

                    <div class="badge-icon" style="font-size: 3rem; margin-bottom: 1rem; position: relative; z-index: 2;">
                        <i class="fas fa-award"></i>
                    </div>
                    <h3 style="margin-bottom: 0.5rem; font-size: 1.3rem; position: relative; z-index: 2;">Certificado UGT-CLM</h3>
                    <p style="opacity: 1; line-height: 1.6; margin-bottom: 1.5rem; position: relative; z-index: 2; color: #ffffff; text-shadow: 0 1px 2px rgba(0,0,0,0.3);">Acreditaci√≥n oficial de la Secci√≥n Sindical UGT-CLM de la Universidad de Granada</p>

                    <div class="badge-features" style="list-style: none; padding: 0; position: relative; z-index: 2;">
                        <div style="padding: 0.3rem 0;"><i class="fas fa-check-circle" style="color: #4caf50; margin-right: 0.5rem;"></i>Reconocimiento institucional</div>
                        <div style="padding: 0.3rem 0;"><i class="fas fa-check-circle" style="color: #4caf50; margin-right: 0.5rem;"></i>Validez nacional</div>
                        <div style="padding: 0.3rem 0;"><i class="fas fa-check-circle" style="color: #4caf50; margin-right: 0.5rem;"></i>C√≥digo verificaci√≥n √∫nico</div>
                    </div>
                </div>

                <!-- Badge UGR -->
                <div class="credential-badge" style="background: linear-gradient(135deg, #2e7d32 0%, #43a047 100%); color: white; padding: 2rem; border-radius: 15px; text-align: center; position: relative; overflow: hidden; opacity: 0; transform: translateY(30px); transition: all 0.6s ease;">
                    <div class="badge-shine" style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent); transform: rotate(45deg); animation: shine 3s infinite;"></div>

                    <div class="badge-icon" style="font-size: 3rem; margin-bottom: 1rem; position: relative; z-index: 2;">
                        <i class="fas fa-university"></i>
                    </div>
                    <h3 style="margin-bottom: 0.5rem; font-size: 1.3rem; position: relative; z-index: 2;">Respaldo UGR</h3>
                    <p style="opacity: 1; line-height: 1.6; margin-bottom: 1.5rem; position: relative; z-index: 2; color: #ffffff; text-shadow: 0 1px 2px rgba(0,0,0,0.3);">Desarrollado en colaboraci√≥n con el Centro de Lenguas Modernas de la UGR</p>

                    <div class="badge-features" style="list-style: none; padding: 0; position: relative; z-index: 2;">
                        <div style="padding: 0.3rem 0;"><i class="fas fa-check-circle" style="color: #81c784; margin-right: 0.5rem;"></i>Excelencia acad√©mica</div>
                        <div style="padding: 0.3rem 0;"><i class="fas fa-check-circle" style="color: #81c784; margin-right: 0.5rem;"></i>Contenido validado</div>
                        <div style="padding: 0.3rem 0;"><i class="fas fa-check-circle" style="color: #81c784; margin-right: 0.5rem;"></i>Caso de √©xito UGR</div>
                    </div>
                </div>

                <!-- Badge Europeo -->
                <div class="credential-badge" style="background: linear-gradient(135deg, #0277bd 0%, #039be5 100%); color: white; padding: 2rem; border-radius: 15px; text-align: center; position: relative; overflow: hidden; opacity: 0; transform: translateY(30px); transition: all 0.6s ease;">
                    <div class="badge-shine" style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent); transform: rotate(45deg); animation: shine 3s infinite;"></div>

                    <div class="badge-icon" style="font-size: 3rem; margin-bottom: 1rem; position: relative; z-index: 2;">
                        <i class="fas fa-globe-europe"></i>
                    </div>
                    <h3 style="margin-bottom: 0.5rem; font-size: 1.3rem; position: relative; z-index: 2;">Est√°ndar Europeo</h3>
                    <p style="opacity: 1; line-height: 1.6; margin-bottom: 1.5rem; position: relative; z-index: 2; color: #ffffff; text-shadow: 0 1px 2px rgba(0,0,0,0.3);">Cumplimiento con directivas europeas de formaci√≥n digital</p>

                    <div class="badge-features" style="list-style: none; padding: 0; position: relative; z-index: 2;">
                        <div style="padding: 0.3rem 0;"><i class="fas fa-check-circle" style="color: #4fc3f7; margin-right: 0.5rem;"></i>Marco Europeo Cualificaciones</div>
                        <div style="padding: 0.3rem 0;"><i class="fas fa-check-circle" style="color: #4fc3f7; margin-right: 0.5rem;"></i>ECTS reconocidos</div>
                        <div style="padding: 0.3rem 0;"><i class="fas fa-check-circle" style="color: #4fc3f7; margin-right: 0.5rem;"></i>Validaci√≥n internacional</div>
                    </div>
                </div>

                <!-- Badge Innovaci√≥n -->
                <div class="credential-badge" style="background: linear-gradient(135deg, #f57c00 0%, #ff9800 100%); color: white; padding: 2rem; border-radius: 15px; text-align: center; position: relative; overflow: hidden; opacity: 0; transform: translateY(30px); transition: all 0.6s ease;">
                    <div class="badge-shine" style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent); transform: rotate(45deg); animation: shine 3s infinite;"></div>

                    <div class="badge-icon" style="font-size: 3rem; margin-bottom: 1rem; position: relative; z-index: 2;">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h3 style="margin-bottom: 0.5rem; font-size: 1.3rem; position: relative; z-index: 2;">Sello Innovaci√≥n</h3>
                    <p style="opacity: 1; line-height: 1.6; margin-bottom: 1.5rem; position: relative; z-index: 2; color: #ffffff; text-shadow: 0 1px 2px rgba(0,0,0,0.3);">Reconocido como programa pionero en IA aplicada a lenguas modernas</p>

                    <div class="badge-features" style="list-style: none; padding: 0; position: relative; z-index: 2;">
                        <div style="padding: 0.3rem 0;"><i class="fas fa-check-circle" style="color: #ffcc80; margin-right: 0.5rem;"></i>Metodolog√≠a innovadora</div>
                        <div style="padding: 0.3rem 0;"><i class="fas fa-check-circle" style="color: #ffcc80; margin-right: 0.5rem;"></i>Caso de √©xito referente</div>
                        <div style="padding: 0.3rem 0;"><i class="fas fa-check-circle" style="color: #ffcc80; margin-right: 0.5rem;"></i>Publicaci√≥n acad√©mica</div>
                    </div>
                </div>

            </div>

            <!-- Sellos de calidad -->
            <div class="quality-seals" style="margin-top: 3rem; text-align: center; opacity: 0; transform: translateY(30px); transition: all 0.8s ease;">
                <h3 style="color: #1a237e; margin-bottom: 2rem;">Sellos de Calidad y Reconocimiento</h3>

                <div style="display: flex; justify-content: center; align-items: center; gap: 3rem; flex-wrap: wrap; margin-top: 2rem;">
                    <div class="seal-item" style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                        <div style="width: 60px; height: 60px; background: #f5f5f5; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: #1a237e;">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <span style="font-size: 0.9rem; color: #666;">Garant√≠a UGT</span>
                    </div>

                    <div class="seal-item" style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                        <div style="width: 60px; height: 60px; background: #f5f5f5; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: #2e7d32;">
                            <i class="fas fa-certificate"></i>
                        </div>
                        <span style="font-size: 0.9rem; color: #666;">Certificado UGR</span>
                    </div>

                    <div class="seal-item" style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                        <div style="width: 60px; height: 60px; background: #f5f5f5; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: #0277bd;">
                            <i class="fas fa-star"></i>
                        </div>
                        <span style="font-size: 0.9rem; color: #666;">Excelencia</span>
                    </div>

                    <div class="seal-item" style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                        <div style="width: 60px; height: 60px; background: #f5f5f5; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: #f57c00;">
                            <i class="fas fa-award"></i>
                        </div>
                        <span style="font-size: 0.9rem; color: #666;">Calidad</span>
                    </div>

                    <div class="seal-item" style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                        <div style="width: 60px; height: 60px; background: #f5f5f5; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: #9c27b0;">
                            <i class="fas fa-infinity"></i>
                        </div>
                        <span style="font-size: 0.9rem; color: #666;">Aprendizaje Continuo</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

  <!-- CTA Buttons -->
    <section id="enrollment" class="section" style="padding: 2rem 0;">
        <div class="course-content">
            <div class="enrollment-section">
                <h2>Inscr√≠bete en las Jornadas de IA</h2>
                <p>Elige la modalidad que mejor se adapte a tu situaci√≥n</p>

                <div class="price-cards">
                    <div class="price-card">
                        <h3>No Afiliados</h3>
                        <div class="price-display">
                            <span class="currency">‚Ç¨</span>
                            <span class="amount">160</span>
                            <span class="period">precio completo</span>
                        </div>
                        <ul class="price-features">
                            <li><i class="fas fa-check"></i> Acceso a las 30 sesiones</li>
                            <li><i class="fas fa-check"></i> Material did√°ctico completo</li>
                            <li><i class="fas fa-check"></i> Certificado UGT-CLM-UGR</li>
                            <li><i class="fas fa-check"></i> Seguimiento post-jornadas</li>
                        </ul>
                        <button class="btn btn-secondary btn-full" onclick="handleEnrollClick(this, 'external')" style="background: #2196F3; border: none;">
                            Inscribirme por 160‚Ç¨
                        </button>
                    </div>

                    <div class="price-card featured">
                        <h3>Afiliados UGT</h3>
                        <div class="price-display">
                            <span class="currency">‚Ç¨</span>
                            <span class="amount">15</span>
                            <span class="period">precio afiliado</span>
                        </div>
                        <ul class="price-features">
                            <li><i class="fas fa-check"></i> Todo lo anterior</li>
                            <li><i class="fas fa-check"></i> <strong>Descuento especial 90%</strong></li>
                            <li><i class="fas fa-check"></i> Prioridad en proyectos</li>
                            <li><i class="fas fa-check"></i> Red de contactos UGT</li>
                        </ul>
                        <button class="btn btn-primary btn-full" onclick="handleEnrollClick(this, 'member')">
                            Inscribirme por 15‚Ç¨
                        </button>
                    </div>
                </div>

                <p style="margin-top: 2rem; opacity: 0.9; text-align: center;">
                    <i class="fas fa-info-circle"></i>
                    ¬øNo eres afiliado? <a href="../index.html#afiliate" style="color: white; text-decoration: underline;">Af√≠liate ahora por solo 15‚Ç¨/a√±o</a>
                    y accede a todos los cursos con descuento
                </p>

                <!-- Botones de descarga y certificado -->
                <div style="margin-top: 2rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <a href="#" onclick="event.preventDefault(); downloadProgramaPDF();" class="btn btn-secondary" style="background: white; color: #667eea; border: 2px solid white; display: inline-flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-download"></i>
                        Descargar Programa Completo (PDF)
                    </a>
                    <button onclick="generateCertificate('jornadas-ia', event)" class="btn btn-success" style="background: #10b981; color: white; border: 2px solid #10b981; display: inline-flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                        <i class="fas fa-certificate"></i>
                        Generar Certificado
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Descripci√≥n General -->
    <section class="section">
        <div class="course-content">
            <div class="section-header">
                <h2>Sobre las Jornadas</h2>
                <p>Formaci√≥n pr√°ctica en IA adaptada a las necesidades del Centro de Lenguas Modernas</p>
            </div>

            <div class="program-section">
                <h3>¬øQu√© son estas jornadas?</h3>
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 2rem;">
                    Las <strong>Jornadas de Introducci√≥n a la IA</strong> est√°n dise√±adas espec√≠ficamente para el personal del
                    <strong>Centro de Lenguas Modernas de la Universidad de Granada</strong>, con el objetivo de proporcionar
                    una formaci√≥n pr√°ctica y √∫til en el uso de herramientas de Inteligencia Artificial adaptadas a las necesidades
                    espec√≠ficas de cada departamento.
                </p>

                <div style="background: #e8f4f8; padding: 2rem; border-radius: 10px; border-left: 4px solid #2196F3; margin: 2rem 0;">
                    <h4 style="color: #1976D2; margin-bottom: 1rem;"><i class="fas fa-lightbulb"></i> Enfoque Pr√°ctico</h4>
                    <p style="margin: 0; font-size: 1.05rem;">
                        Con una duraci√≥n total de <strong>20 horas</strong> distribuidas en sesiones de <strong>40 minutos</strong>
                        durante <strong>viernes en sesiones de ma√±ana y tarde</strong>, estas jornadas ofrecen un enfoque eminentemente pr√°ctico,
                        permitiendo a los participantes interactuar con herramientas de IA desde la primera sesi√≥n y aplicarlas
                        en tareas relevantes para su trabajo diario.
                    </p>
                </div>

                <h3 style="margin-top: 2.5rem;">Distribuci√≥n Temporal</h3>
                <ul style="font-size: 1.05rem; line-height: 1.8;">
                    <li><strong>Duraci√≥n:</strong> 5 semanas (5 viernes)</li>
                    <li><strong>Horario:</strong> 6 sesiones por viernes - ma√±ana (3 sesiones) y tarde (3 sesiones)</li>
                    <li><strong>Sesiones:</strong> 30 sesiones de 40 minutos</li>
                    <li><strong>Descansos:</strong> 10 minutos entre sesiones</li>
                    <li><strong>Total:</strong> 20 horas de formaci√≥n pr√°ctica</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Perfiles Profesionales -->
    <section id="profiles" class="section section-alt">
        <div class="course-content">
            <div class="section-header">
                <h2>¬øA qui√©n va dirigido?</h2>
                <p>Dise√±ado para todos los perfiles del Centro de Lenguas Modernas</p>
            </div>

            <div class="perfiles-grid">
                <div class="perfil-card">
                    <div class="perfil-icon">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <h3>Profesores de Espa√±ol</h3>
                    <p>Ense√±anza de espa√±ol como lengua extranjera, creaci√≥n de materiales did√°cticos y evaluaci√≥n de competencias</p>
                </div>

                <div class="perfil-card">
                    <div class="perfil-icon">
                        <i class="fas fa-language"></i>
                    </div>
                    <h3>Profesores de Otras Lenguas</h3>
                    <p>Ense√±anza multiling√ºe, traducci√≥n y actividades interculturales</p>
                </div>

                <div class="perfil-card">
                    <div class="perfil-icon">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <h3>Personal de Administraci√≥n</h3>
                    <p>Gesti√≥n de matr√≠culas, atenci√≥n multiling√ºe y tr√°mites administrativos</p>
                </div>

                <div class="perfil-card">
                    <div class="perfil-icon">
                        <i class="fas fa-door-open"></i>
                    </div>
                    <h3>Personal de Conserjer√≠a</h3>
                    <p>Control de accesos, informaci√≥n y atenci√≥n presencial a estudiantes</p>
                </div>

                <div class="perfil-card">
                    <div class="perfil-icon">
                        <i class="fas fa-tools"></i>
                    </div>
                    <h3>Personal de Servicios</h3>
                    <p>Mantenimiento, gesti√≥n de recursos tecnol√≥gicos y apoyo log√≠stico</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Programa: Bloques Tem√°ticos -->
    <section id="program" class="section">
        <div class="course-content">
            <div class="section-header">
                <h2>Bloques Tem√°ticos</h2>
                <p>5 bloques especializados con enfoque pr√°ctico desde el primer d√≠a</p>
            </div>

            <div class="program-section">
                <!-- Bloque 1 -->
                <div class="bloque" data-difficulty="beginner" data-progress="20">
                    <div class="bloque-header">
                        <span class="bloque-number">Bloque 1</span>
                        <span class="bloque-duration">4 horas ¬∑ 6 sesiones</span>
                        <div class="difficulty-indicator">
                            <span class="difficulty-label">Nivel:</span>
                            <div class="difficulty-bar">
                                <div class="difficulty-fill" style="width: 20%; background: #4caf50;"></div>
                            </div>
                            <span class="difficulty-text">Principiante</span>
                        </div>
                        <div class="progress-indicator">
                            <span class="progress-label">Progreso:</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 20%;"></div>
                            </div>
                            <span class="progress-text">20%</span>
                        </div>
                    </div>
                    <h3>Fundamentos de la IA</h3>
                    <ul class="bloque-topics">
                        <li>Introducci√≥n a la IA: conceptos b√°sicos y evoluci√≥n</li>
                        <li>Tipos de IA: d√©bil vs. fuerte, estrecha vs. general</li>
                        <li>Principales tecnolog√≠as: machine learning, procesamiento de lenguaje natural, visi√≥n artificial</li>
                        <li>Herramientas de IA accesibles: panorama actual</li>
                        <li>√âtica y responsabilidad en el uso de la IA</li>
                        <li><strong>Enfoque pr√°ctico:</strong> Primeros pasos con ChatGPT y otras herramientas b√°sicas</li>
                    </ul>
                </div>

                <!-- Bloque 2 -->
                <div class="bloque" data-difficulty="intermediate" data-progress="40">
                    <div class="bloque-header">
                        <span class="bloque-number">Bloque 2</span>
                        <span class="bloque-duration">6 horas ¬∑ 9 sesiones</span>
                        <div class="difficulty-indicator">
                            <span class="difficulty-label">Nivel:</span>
                            <div class="difficulty-bar">
                                <div class="difficulty-fill" style="width: 50%; background: #ff9800;"></div>
                            </div>
                            <span class="difficulty-text">Intermedio</span>
                        </div>
                        <div class="progress-indicator">
                            <span class="progress-label">Progreso:</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 40%;"></div>
                            </div>
                            <span class="progress-text">40%</span>
                        </div>
                    </div>
                    <h3>IA en el √Åmbito Educativo</h3>
                    <ul class="bloque-topics">
                        <li>IA para la creaci√≥n de contenidos educativos</li>
                        <li>Herramientas de IA para la ense√±anza de idiomas</li>
                        <li>Evaluaci√≥n y feedback autom√°tico</li>
                        <li>Personalizaci√≥n del aprendizaje mediante IA</li>
                        <li>Traducci√≥n y adaptaci√≥n de materiales</li>
                        <li>Creaci√≥n de recursos multimedia con IA</li>
                        <li>Detecci√≥n de plagio y uso √©tico</li>
                        <li>Asistentes virtuales para estudiantes</li>
                        <li><strong>Enfoque pr√°ctico:</strong> Talleres espec√≠ficos para profesores de espa√±ol y otras lenguas</li>
                    </ul>
                </div>

                <!-- Bloque 3 -->
                <div class="bloque" data-difficulty="intermediate" data-progress="60">
                    <div class="bloque-header">
                        <span class="bloque-number">Bloque 3</span>
                        <span class="bloque-duration">4 horas ¬∑ 6 sesiones</span>
                        <div class="difficulty-indicator">
                            <span class="difficulty-label">Nivel:</span>
                            <div class="difficulty-bar">
                                <div class="difficulty-fill" style="width: 60%; background: #ff9800;"></div>
                            </div>
                            <span class="difficulty-text">Intermedio</span>
                        </div>
                        <div class="progress-indicator">
                            <span class="progress-label">Progreso:</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 60%;"></div>
                            </div>
                            <span class="progress-text">60%</span>
                        </div>
                    </div>
                    <h3>IA en la Gesti√≥n Administrativa</h3>
                    <ul class="bloque-topics">
                        <li>Automatizaci√≥n de procesos administrativos</li>
                        <li>IA para la atenci√≥n multiling√ºe</li>
                        <li>Gesti√≥n documental inteligente</li>
                        <li>An√°lisis de datos para la toma de decisiones</li>
                        <li>Optimizaci√≥n de recursos mediante IA</li>
                        <li><strong>Enfoque pr√°ctico:</strong> Talleres espec√≠ficos para personal administrativo</li>
                    </ul>
                </div>

                <!-- Bloque 4 -->
                <div class="bloque" data-difficulty="beginner" data-progress="80">
                    <div class="bloque-header">
                        <span class="bloque-number">Bloque 4</span>
                        <span class="bloque-duration">2 horas ¬∑ 3 sesiones</span>
                        <div class="difficulty-indicator">
                            <span class="difficulty-label">Nivel:</span>
                            <div class="difficulty-bar">
                                <div class="difficulty-fill" style="width: 30%; background: #4caf50;"></div>
                            </div>
                            <span class="difficulty-text">B√°sico</span>
                        </div>
                        <div class="progress-indicator">
                            <span class="progress-label">Progreso:</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 80%;"></div>
                            </div>
                            <span class="progress-text">80%</span>
                        </div>
                    </div>
                    <h3>IA en Servicios y Conserjer√≠a</h3>
                    <ul class="bloque-topics">
                        <li>Sistemas de informaci√≥n inteligentes</li>
                        <li>Gesti√≥n de espacios y recursos</li>
                        <li>Asistencia multiling√ºe automatizada</li>
                        <li><strong>Enfoque pr√°ctico:</strong> Talleres espec√≠ficos para personal de conserjer√≠a y servicios</li>
                    </ul>
                </div>

                <!-- Bloque 5 -->
                <div class="bloque" data-difficulty="advanced" data-progress="100">
                    <div class="bloque-header">
                        <span class="bloque-number">Bloque 5</span>
                        <span class="bloque-duration">4 horas ¬∑ 6 sesiones</span>
                        <div class="difficulty-indicator">
                            <span class="difficulty-label">Nivel:</span>
                            <div class="difficulty-bar">
                                <div class="difficulty-fill" style="width: 80%; background: #f44336;"></div>
                            </div>
                            <span class="difficulty-text">Avanzado</span>
                        </div>
                        <div class="progress-indicator">
                            <span class="progress-label">Progreso:</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 100%;"></div>
                            </div>
                            <span class="progress-text">100%</span>
                        </div>
                    </div>
                    <h3>Proyectos Colaborativos Interdepartamentales</h3>
                    <ul class="bloque-topics">
                        <li>Dise√±o de soluciones basadas en IA para el centro</li>
                        <li>Implementaci√≥n de casos pr√°cticos</li>
                        <li>Presentaci√≥n de proyectos y retroalimentaci√≥n</li>
                        <li>Evaluaci√≥n de impacto y sostenibilidad</li>
                        <li>Plan de acci√≥n futuro</li>
                        <li><strong>Enfoque pr√°ctico:</strong> Trabajo en equipos mixtos para resolver problemas reales del centro</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Metodolog√≠a -->
    <section class="section section-alt">
        <div class="course-content">
            <div class="section-header">
                <h2>Metodolog√≠a</h2>
                <p>Aprendizaje activo y pr√°ctico desde el primer momento</p>
            </div>

            <div class="program-section">
                <h3>Principios Metodol√≥gicos</h3>
                <div class="metodologia-grid">
                    <div class="metodologia-item">
                        <div class="metodologia-icon">
                            <i class="fas fa-hands-helping"></i>
                        </div>
                        <h4>Aprendizaje Activo</h4>
                        <p>Utilizar√°s herramientas de IA desde la primera sesi√≥n</p>
                    </div>

                    <div class="metodologia-item">
                        <div class="metodologia-icon">
                            <i class="fas fa-laptop-code"></i>
                        </div>
                        <h4>Enfoque Pr√°ctico</h4>
                        <p>M√≠nimo contenido te√≥rico, m√°xima aplicaci√≥n pr√°ctica</p>
                    </div>

                    <div class="metodologia-item">
                        <div class="metodologia-icon">
                            <i class="fas fa-user-cog"></i>
                        </div>
                        <h4>Personalizaci√≥n</h4>
                        <p>Actividades adaptadas a cada perfil profesional</p>
                    </div>

                    <div class="metodologia-item">
                        <div class="metodologia-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h4>Colaboraci√≥n</h4>
                        <p>Fomento del trabajo en equipo e intercambio de experiencias</p>
                    </div>

                    <div class="metodologia-item">
                        <div class="metodologia-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h4>Progresi√≥n</h4>
                        <p>De lo simple a lo complejo, construyendo sobre lo aprendido</p>
                    </div>
                </div>

                <h3 style="margin-top: 3rem;">Estructura de las Sesiones (40 minutos)</h3>
                <div class="session-structure">
                    <div class="session-step">
                        <div class="step-number">1</div>
                        <div>
                            <h4>Introducci√≥n (5 min)</h4>
                            <p>Presentaci√≥n del tema y objetivos de la sesi√≥n</p>
                        </div>
                    </div>
                    <div class="session-step">
                        <div class="step-number">2</div>
                        <div>
                            <h4>Demostraci√≥n (10 min)</h4>
                            <p>Ejemplo pr√°ctico de aplicaci√≥n con herramientas reales</p>
                        </div>
                    </div>
                    <div class="session-step">
                        <div class="step-number">3</div>
                        <div>
                            <h4>Pr√°ctica Guiada (15 min)</h4>
                            <p>Los participantes aplican lo aprendido con apoyo del formador</p>
                        </div>
                    </div>
                    <div class="session-step">
                        <div class="step-number">4</div>
                        <div>
                            <h4>Reflexi√≥n y Dudas (10 min)</h4>
                            <p>Discusi√≥n sobre aplicaciones espec√≠ficas y resoluci√≥n de problemas</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Calendario -->
    <section class="section">
        <div class="course-content">
            <div class="section-header">
                <h2>Calendario de las Jornadas</h2>
                <p>5 semanas intensivas de formaci√≥n pr√°ctica</p>
            </div>

            <div class="program-section">
                <div class="calendar-grid">
                    <div class="week-card">
                        <span class="week-number">Semana 1</span>
                        <h4>Fundamentos de IA</h4>
                        <p><i class="fas fa-calendar"></i> Viernes</p>
                        <p><i class="fas fa-clock"></i> 6 sesiones</p>
                    </div>

                    <div class="week-card">
                        <span class="week-number">Semana 2</span>
                        <h4>IA Educativa (Parte 1)</h4>
                        <p><i class="fas fa-calendar"></i> Viernes</p>
                        <p><i class="fas fa-clock"></i> 6 sesiones</p>
                    </div>

                    <div class="week-card">
                        <span class="week-number">Semana 3</span>
                        <h4>IA Educativa (Parte 2)</h4>
                        <p><i class="fas fa-calendar"></i> Viernes</p>
                        <p><i class="fas fa-clock"></i> 6 sesiones</p>
                    </div>

                    <div class="week-card">
                        <span class="week-number">Semana 4</span>
                        <h4>IA Administrativa + Servicios</h4>
                        <p><i class="fas fa-calendar"></i> Viernes</p>
                        <p><i class="fas fa-clock"></i> 6 sesiones</p>
                    </div>

                    <div class="week-card">
                        <span class="week-number">Semana 5</span>
                        <h4>Proyectos Colaborativos</h4>
                        <p><i class="fas fa-calendar"></i> Viernes</p>
                        <p><i class="fas fa-clock"></i> 6 sesiones</p>
                    </div>
                </div>

                <div style="background: #fff3cd; padding: 1.5rem; border-radius: 10px; margin-top: 2rem; border-left: 4px solid #ffc107;">
                    <p style="margin: 0; color: #856404;"><i class="fas fa-info-circle"></i>
                        <strong>Nota:</strong> Cada d√≠a incluye 6 sesiones de 40 minutos con descansos de 10 minutos entre sesiones (3 horas por franja).
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Recursos Tecnol√≥gicos -->
    <section class="section section-alt">
        <div class="course-content">
            <div class="section-header">
                <h2>Herramientas y Recursos</h2>
                <p>Trabajar√°s con las herramientas de IA m√°s avanzadas</p>
            </div>

            <div class="program-section">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px;">
                        <h4><i class="fas fa-robot"></i> Plataformas de IA</h4>
                        <p>ChatGPT, Claude, Bard y otros modelos de lenguaje</p>
                    </div>
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px;">
                        <h4><i class="fas fa-image"></i> Generaci√≥n de Im√°genes</h4>
                        <p>DALL-E, Midjourney, Stable Diffusion</p>
                    </div>
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px;">
                        <h4><i class="fas fa-language"></i> Traducci√≥n Autom√°tica</h4>
                        <p>DeepL, Google Translate y herramientas especializadas</p>
                    </div>
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px;">
                        <h4><i class="fas fa-paint-brush"></i> Creaci√≥n de Contenido</h4>
                        <p>Canva con IA, Beautiful.ai y m√°s</p>
                    </div>
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px;">
                        <h4><i class="fas fa-cogs"></i> Automatizaci√≥n</h4>
                        <p>Zapier, IFTTT y flujos de trabajo inteligentes</p>
                    </div>
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px;">
                        <h4><i class="fas fa-graduation-cap"></i> Asistentes Educativos</h4>
                        <p>Herramientas espec√≠ficas para educaci√≥n</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Evaluaci√≥n -->
    <section class="section">
        <div class="course-content">
            <div class="section-header">
                <h2>Evaluaci√≥n y Certificaci√≥n</h2>
                <p>Sistema de evaluaci√≥n continua y proyecto final</p>
            </div>

            <div class="program-section">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 10px;">
                        <h4><i class="fas fa-tasks"></i> Evaluaci√≥n Continua</h4>
                        <ul style="list-style: none; padding: 0; margin-top: 1rem;">
                            <li style="padding: 0.3rem 0;"><i class="fas fa-check"></i> Participaci√≥n activa en las sesiones</li>
                            <li style="padding: 0.3rem 0;"><i class="fas fa-check"></i> Realizaci√≥n de actividades pr√°cticas</li>
                            <li style="padding: 0.3rem 0;"><i class="fas fa-check"></i> Aplicaci√≥n en el entorno laboral</li>
                        </ul>
                    </div>

                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 10px;">
                        <h4><i class="fas fa-project-diagram"></i> Proyecto Final</h4>
                        <ul style="list-style: none; padding: 0; margin-top: 1rem;">
                            <li style="padding: 0.3rem 0;"><i class="fas fa-check"></i> Soluci√≥n basada en IA para el centro</li>
                            <li style="padding: 0.3rem 0;"><i class="fas fa-check"></i> Presentaci√≥n en la √∫ltima sesi√≥n</li>
                            <li style="padding: 0.3rem 0;"><i class="fas fa-check"></i> Evaluaci√≥n por pares</li>
                        </ul>
                    </div>

                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 10px;">
                        <h4><i class="fas fa-headset"></i> Seguimiento Post-Jornadas</h4>
                        <ul style="list-style: none; padding: 0; margin-top: 1rem;">
                            <li style="padding: 0.3rem 0;"><i class="fas fa-check"></i> Sesiones mensuales (2 horas)</li>
                            <li style="padding: 0.3rem 0;"><i class="fas fa-check"></i> Comunidad virtual</li>
                            <li style="padding: 0.3rem 0;"><i class="fas fa-check"></i> Repositorio de casos de √©xito</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enrollment Section -->
    <section class="section section-alt">
        <div class="course-content">
            <div class="enrollment-section">
                <h2>Inscr√≠bete en las Jornadas de IA</h2>
                <p>Elige la modalidad que mejor se adapte a tu situaci√≥n</p>

                <div class="price-cards">
                    <div class="price-card">
                        <h3>No Afiliados</h3>
                        <div class="price-display">
                            <span class="currency">‚Ç¨</span>
                            <span class="amount">160</span>
                            <span class="period">precio completo</span>
                        </div>
                        <ul class="price-features">
                            <li><i class="fas fa-check"></i> Acceso a las 30 sesiones</li>
                            <li><i class="fas fa-check"></i> Material did√°ctico completo</li>
                            <li><i class="fas fa-check"></i> Certificado UGT-CLM-UGR</li>
                            <li><i class="fas fa-check"></i> Acceso a herramientas de IA</li>
                            <li><i class="fas fa-check"></i> Soporte t√©cnico</li>
                            <li><i class="fas fa-check"></i> Seguimiento post-jornadas</li>
                        </ul>
                        <button class="btn btn-secondary btn-full" onclick="handleEnrollClick(this, 'external')" style="background: #2196F3; color: white; border: none;">
                            Inscribirme por 160‚Ç¨
                        </button>
                    </div>

                    <div class="price-card featured">
                        <h3>Afiliados UGT</h3>
                        <div class="price-display">
                            <span class="currency">‚Ç¨</span>
                            <span class="amount">15</span>
                            <span class="period">precio afiliado</span>
                        </div>
                        <ul class="price-features">
                            <li><i class="fas fa-check"></i> Todo lo anterior</li>
                            <li><i class="fas fa-check"></i> <strong>Descuento especial 90%</strong></li>
                            <li><i class="fas fa-check"></i> Sesiones exclusivas</li>
                            <li><i class="fas fa-check"></i> Tutor√≠a personalizada</li>
                            <li><i class="fas fa-check"></i> Prioridad en proyectos</li>
                            <li><i class="fas fa-check"></i> Red de contactos UGT</li>
                        </ul>
                        <button class="btn btn-primary btn-full" onclick="handleEnrollClick(this, 'member')">
                            Inscribirme por 15‚Ç¨
                        </button>
                    </div>
                </div>

                <p style="margin-top: 2rem; opacity: 0.9;">
                    <i class="fas fa-info-circle"></i>
                    ¬øNo eres afiliado? <a href="../index.html#afiliate" style="color: white; text-decoration: underline;">Af√≠liate ahora por solo 15‚Ç¨/a√±o</a>
                    y accede a todos los cursos con descuento
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-brand">
                        <img src="../images/brand/ugt-logo.PNG" alt="UGT Logo">
                        <h3>UGT-CLM-UGR Granada</h3>
                        <p>Secci√≥n Sindical</p>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Enlaces</h4>
                    <ul>
                        <li><a href="../index.html">Inicio</a></li>
                        <li><a href="../index.html#cursos">M√°s Cursos</a></li>
                        <li><a href="../index.html#afiliate">Af√≠liate</a></li>
                        <li><a href="../index.html#contacto">Contacto</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 UGT-CLM-UGR Granada. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Bot√≥n flotante de sugerencias -->
    <button class="suggestions-floating-btn" onclick="showSuggestionsModal()" aria-label="Abrir buz√≥n de sugerencias">
        <i class="fas fa-lightbulb"></i>
    </button>

    <!-- Bot√≥n de Scroll to Top -->
    <button id="scrollToTopBtn" class="scroll-to-top" aria-label="Volver arriba">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="login-form">
                <h3>Acceso Afiliados</h3>
                <form id="loginForm">
                    <div class="form-group">
                        <input type="email" name="email" placeholder="Email" required>
                        <span class="error-message"></span>
                    </div>
                    <div class="form-group">
                        <input type="password" name="password" placeholder="Contrase√±a" required>
                        <span class="error-message"></span>
                    </div>
                    <div class="form-options">
                        <label class="checkbox">
                            <input type="checkbox">
                            <span class="checkmark"></span>
                            Recordarme
                        </label>
                        <a href="#" class="forgot-password" id="forgotPasswordLink">¬øOlvidaste tu contrase√±a?</a>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Iniciar Sesi√≥n</button>
                </form>
                <div class="login-footer">
                    <p>¬øNo eres afiliado? <a href="../index.html#afiliate" id="goToAffiliateLink" onclick="document.getElementById('loginModal').style.display='none'">Af√≠liate aqu√≠ (15‚Ç¨/a√±o)</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Info Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeRegister">&times;</span>
            <div class="login-form">
                <div style="text-align: center; padding: 20px 0;">
                    <div style="font-size: 4rem; color: var(--primary-color); margin-bottom: 20px;">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <h3>¬øQuieres unirte a UGT-CLM Granada?</h3>
                    <p style="margin: 20px 0; color: #666; line-height: 1.6;">
                        Para tener acceso completo a tu √°rea personal, necesitas <strong>afiliarte primero</strong>.<br>
                        El proceso es simple y r√°pido.
                    </p>
                    <div style="background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 25px 0;">
                        <h4 style="margin-bottom: 15px; color: var(--primary-color);">
                            <i class="fas fa-gift"></i> Beneficios de afiliarte:
                        </h4>
                        <ul style="text-align: left; list-style: none; padding: 0;">
                            <li style="margin: 10px 0;"><i class="fas fa-check" style="color: #4CAF50; margin-right: 10px;"></i> Defensa de tus derechos laborales</li>
                            <li style="margin: 10px 0;"><i class="fas fa-check" style="color: #4CAF50; margin-right: 10px;"></i> Asesoramiento jur√≠dico gratuito</li>
                            <li style="margin: 10px 0;"><i class="fas fa-check" style="color: #4CAF50; margin-right: 10px;"></i> Descuentos en cursos (hasta 90%)</li>
                            <li style="margin: 10px 0;"><i class="fas fa-check" style="color: #4CAF50; margin-right: 10px;"></i> Certificados y documentaci√≥n autom√°tica</li>
                            <li style="margin: 10px 0;"><i class="fas fa-check" style="color: #4CAF50; margin-right: 10px;"></i> √Årea personal con seguimiento de actividad</li>
                        </ul>
                        <div style="margin-top: 20px; padding-top: 15px; border-top: 2px solid #ddd;">
                            <span style="font-size: 0.9rem; color: #999;">Cuota anual</span><br>
                            <span style="font-size: 2.5rem; font-weight: bold; color: var(--primary-color);">15‚Ç¨</span>
                            <span style="font-size: 1rem; color: #666;">/a√±o</span>
                        </div>
                    </div>
                    <a href="../index.html#afiliate" class="btn btn-primary btn-full" onclick="document.getElementById('registerModal').style.display='none'" style="margin-bottom: 15px; text-decoration: none; display: inline-block; width: 100%;">
                        <i class="fas fa-rocket"></i> Afiliarme Ahora por 15‚Ç¨/a√±o
                    </a>
                    <div class="login-footer">
                        <p>¬øYa est√°s afiliado? <a href="#" id="backToLoginFromRegister">Iniciar sesi√≥n</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Password Recovery Modal -->
    <div id="recoveryModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeRecovery">&times;</span>
            <div class="recovery-form">
                <h3>Recuperar Contrase√±a</h3>
                <p>Introduce tu email y te enviaremos instrucciones para recuperar tu contrase√±a</p>
                <form id="recoveryForm">
                    <div class="form-group">
                        <input type="email" name="recoveryEmail" placeholder="Tu email" required>
                        <span class="error-message"></span>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Enviar Instrucciones</button>
                </form>
                <div class="recovery-footer">
                    <p><a href="#" id="backToLogin">Volver al login</a></p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://js.stripe.com/v3/"></script>
    <!-- Backend Configuration -->
    <script>
        window.BACKEND_URL = 'https://sindicato-mu.vercel.app';
    </script>
    <script src="../js/backend-config.js"></script>
    <script src="../js/auth-api.js"></script>
    <script src="../js/stripe-config.js"></script>
    <script src="../js/user-dashboard-inject.js"></script>
    <script src="../js/suggestions.js"></script>
    <script src="../js/main.js"></script>
    <script>
        // Logo navigation and modal handlers
        document.addEventListener('DOMContentLoaded', function() {
            // Logo navigation
            const navBrand = document.getElementById('navBrand');
            if (navBrand) {
                navBrand.style.cursor = 'pointer';
                navBrand.style.position = 'relative';
                navBrand.style.zIndex = '1000';

                function goToHome() {
                    window.location.href = '../index.html';
                }

                navBrand.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    goToHome();
                });

                navBrand.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    goToHome();
                }, { passive: false });

                const logoImage = navBrand.querySelector('.logo');
                const brandText = navBrand.querySelector('.brand-text');

                [logoImage, brandText].forEach(element => {
                    if (element) {
                        element.addEventListener('click', (e) => {
                            e.stopPropagation();
                            goToHome();
                        });

                        element.addEventListener('touchend', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            goToHome();
                        }, { passive: false });
                    }
                });
            }

            // Modal handlers
            const loginModal = document.getElementById('loginModal');
            const recoveryModal = document.getElementById('recoveryModal');
            const registerModal = document.getElementById('registerModal');

            // Close buttons
            const closeButtons = document.querySelectorAll('.close');
            closeButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    if (modal) modal.style.display = 'none';
                });
            });

            // Close modals when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    e.target.style.display = 'none';
                }
            });

            // Handle "Olvidaste tu contrase√±a" link
            const forgotPasswordLink = document.getElementById('forgotPasswordLink');
            if (forgotPasswordLink && loginModal && recoveryModal) {
                forgotPasswordLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    loginModal.style.display = 'none';
                    recoveryModal.style.display = 'block';
                });
            }

            // Handle "Volver al login" link
            const backToLogin = document.getElementById('backToLogin');
            if (backToLogin && loginModal && recoveryModal) {
                backToLogin.addEventListener('click', (e) => {
                    e.preventDefault();
                    recoveryModal.style.display = 'none';
                    loginModal.style.display = 'block';
                });
            }

            // Handle "Iniciar sesi√≥n" from register modal
            const backToLoginFromRegister = document.getElementById('backToLoginFromRegister');
            if (backToLoginFromRegister && loginModal && registerModal) {
                backToLoginFromRegister.addEventListener('click', (e) => {
                    e.preventDefault();
                    registerModal.style.display = 'none';
                    loginModal.style.display = 'block';
                });
            }
        });
    </script>
    <script>
        // Manejar click en bot√≥n de inscripci√≥n con loading state
        async function handleEnrollClick(button, type) {
            const originalHTML = button.innerHTML;
            const originalDisabled = button.disabled;

            try {
                // Mostrar loading
                button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Procesando...';
                button.disabled = true;

                // Llamar a la funci√≥n de inscripci√≥n
                await enrollCourse(type);

            } catch (error) {
                console.error('‚ùå Error en handleEnrollClick:', error);
                showNotification('‚ùå Error al procesar la inscripci√≥n', 'error');
            } finally {
                // Restaurar bot√≥n (si no se redirigi√≥ a Stripe)
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.disabled = originalDisabled;
                }, 500);
            }
        }

        async function enrollCourse(type) {
            try {
                console.log('üéì Iniciando proceso de inscripci√≥n...', { type });

                const isMember = type === 'member';
                const price = isMember ? 15 : 160;
                const courseType = 'jornadas-ia'; // Espec√≠fico para estas jornadas
                const description = isMember ? 'Jornadas IA CLM - Afiliado UGT' : 'Jornadas IA CLM - Externo';

                // Si intenta inscribirse como afiliado, verificar autenticaci√≥n
                if (isMember) {
                    console.log('üîê Verificando autenticaci√≥n para inscripci√≥n de miembro...');
                    const isAuthenticated = checkAuthentication();
                    if (!isAuthenticated) {
                        console.warn('‚ö†Ô∏è Usuario no autenticado, mostrando modal de login');
                        showLoginModal();
                        return;
                    }
                    console.log('‚úÖ Usuario autenticado');

                    // Verificar que sea afiliado
                    console.log('üîç Verificando estado de afiliaci√≥n...');
                    const isAffiliate = await verifyAffiliate();
                    console.log('üìä Resultado verificaci√≥n afiliado:', isAffiliate);

                    if (!isAffiliate) {
                        showNotification('‚ùå Debes ser afiliado activo para acceder al precio de 15‚Ç¨. Por favor, completa tu afiliaci√≥n primero o inscr√≠bete como externo.', 'error');
                        return;
                    }
                    console.log('‚úÖ Usuario es afiliado activo');
                }

                console.log('üìù Mostrando formulario de inscripci√≥n...');
                showEnrollmentForm({
                    courseType: courseType,
                    isMember: isMember,
                    price: price,
                    description: description,
                    courseName: 'Jornadas de Inteligencia Artificial para el CLM',
                    duration: '20 horas (30 sesiones)',
                    modality: 'Virtual por Zoom'
                });
            } catch (error) {
                console.error('‚ùå Error en enrollCourse:', error);
                showNotification('‚ùå Error al iniciar inscripci√≥n: ' + error.message, 'error');
            }
        }

        // Verificar si el usuario est√° autenticado
        function checkAuthentication() {
            // Usar authAPI si est√° disponible
            if (typeof authAPI !== 'undefined' && authAPI.isAuthenticated) {
                return authAPI.isAuthenticated();
            }
            // Fallback a verificaci√≥n manual
            const token = localStorage.getItem('accessToken');
            return !!token;
        }

        // Verificar si el usuario es afiliado
        async function verifyAffiliate() {
            try {
                // Usar authAPI si est√° disponible
                if (typeof authAPI !== 'undefined') {
                    const user = authAPI.getUser();
                    console.log('üë§ Datos del usuario para verificaci√≥n:', user);

                    if (!user) {
                        console.warn('‚ö†Ô∏è No hay usuario en authAPI');
                        return false;
                    }

                    // Verificar membres√≠a contra el backend
                    try {
                        console.log('üì° Consultando membres√≠a al backend...');
                        const result = await authAPI.request('/api/user/membership');
                        console.log('üìä Respuesta de membres√≠a:', result);

                        if (result.success && result.data) {
                            const membership = result.data;
                            console.log('üîç Verificando:', {
                                status: membership.status,
                                role: membership.role,
                                esperado: { status: 'activo', role: 'afiliado' }
                            });

                            const isValid = membership.status === 'activo' && membership.role === 'afiliado';
                            console.log('‚úÖ Resultado verificaci√≥n:', isValid);
                            return isValid;
                        }

                        console.warn('‚ö†Ô∏è Respuesta de membres√≠a sin √©xito o sin data');
                        return false;
                    } catch (error) {
                        console.error('‚ùå Error verificando membres√≠a contra backend:', error);

                        // Fallback: verificar desde datos en localStorage
                        console.log('üîÑ Usando fallback: verificaci√≥n desde localStorage');
                        const isValidFallback = user.role === 'afiliado' && user.membershipStatus === 'activo';
                        console.log('üìä Fallback - user.role:', user.role, 'user.membershipStatus:', user.membershipStatus);
                        console.log('‚úÖ Resultado fallback:', isValidFallback);
                        return isValidFallback;
                    }
                }

                // Fallback a implementaci√≥n manual
                const token = localStorage.getItem('accessToken');
                if (!token) {
                    return false;
                }

                const backendUrl = window.BACKEND_URL || 'https://sindicato-mu.vercel.app';
                const response = await fetch(`${backendUrl}/api/user/membership`, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (!response.ok) {
                    console.error('Error verificando membres√≠a:', response.status);
                    return false;
                }

                const data = await response.json();

                if (data.success && data.data) {
                    const membership = data.data;
                    return membership.status === 'activo' && membership.role === 'afiliado';
                }

                return false;
            } catch (error) {
                console.error('Error verificando afiliado:', error);
                return false;
            }
        }

        // Mostrar modal de login
        function showLoginModal() {
            const loginModal = document.getElementById('loginModal');
            if (loginModal) {
                loginModal.style.display = 'block';
            }
        }

        function showEnrollmentForm(courseData) {
            console.log('üìù Creando formulario de inscripci√≥n...', courseData);

            // Obtener datos del usuario si est√° autenticado
            let userData = null;
            if (typeof authAPI !== 'undefined') {
                userData = authAPI.getUser();
                console.log('üë§ Datos del usuario autenticado:', userData);
            }

            const enrollmentModal = document.createElement('div');
            enrollmentModal.className = 'modal';
            enrollmentModal.innerHTML = `
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <div class="enrollment-form">
                        <h3>üéì Inscripci√≥n - Jornadas de Inteligencia Artificial</h3>
                        <div class="course-summary">
                            <h4>üìã Detalles de la formaci√≥n:</h4>
                            <p><strong>${courseData.courseName}</strong></p>
                            <p>üìÖ Duraci√≥n: ${courseData.duration}</p>
                            <p>üíª Modalidad: ${courseData.modality}</p>
                            <p>üë§ Tipo: ${courseData.isMember ? 'Afiliado UGT' : 'Participante Externo'}</p>
                            <p>üìç Dirigido a: Personal del Centro de Lenguas Modernas UGR</p>
                            <div class="price-total">
                                <span>üí∞ Inversi√≥n:</span>
                                <span><strong>${courseData.price}‚Ç¨</strong></span>
                            </div>
                        </div>
                        <form id="enrollmentForm">
                            <div class="form-group">
                                <label>üë§ Nombre completo *</label>
                                <input type="text" name="name" placeholder="Tu nombre completo" value="${userData && userData.nombre ? userData.nombre : ''}" required>
                            </div>
                            <div class="form-group">
                                <label>üìß Email *</label>
                                <input type="email" name="email" placeholder="tu@email.com" value="${userData && userData.email ? userData.email : ''}" required ${userData && userData.email ? 'readonly style="background: #f5f5f5;"' : ''}>
                            </div>
                            <div class="form-group">
                                <label>üì± Tel√©fono (opcional)</label>
                                <input type="tel" name="phone" placeholder="600 000 000" value="${userData && userData.telefono ? userData.telefono : ''}">
                            </div>
                            <div class="form-group">
                                <label>üè¢ Perfil profesional *</label>
                                <select name="department" required>
                                    <option value="">Selecciona tu perfil</option>
                                    <option value="profesor-espanol">üë®‚Äçüè´ Profesor/a de Espa√±ol</option>
                                    <option value="profesor-lenguas">üåç Profesor/a de Otras Lenguas</option>
                                    <option value="administracion">üíº Personal de Administraci√≥n</option>
                                    <option value="conserjeria">üîë Personal de Conserjer√≠a</option>
                                    <option value="servicios">üõ†Ô∏è Personal de Servicios</option>
                                    <option value="otro">üìã Otro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" required>
                                    ‚úÖ Acepto los t√©rminos y condiciones de participaci√≥n
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" checked>
                                    üìß Deseo recibir informaci√≥n sobre futuras formaciones
                                </label>
                            </div>
                            <button type="submit" class="btn btn-primary btn-full">
                                <i class="fas fa-lock"></i> Inscribirse y Pagar ${courseData.price}‚Ç¨
                            </button>
                        </form>
                        <div style="margin-top: 1rem; padding: 1rem; background: #f0f8ff; border-radius: 8px; text-align: center;">
                            <p style="margin: 0; font-size: 0.9rem;">
                                <i class="fas fa-shield-alt" style="color: #4CAF50;"></i>
                                Pago 100% seguro mediante Stripe<br>
                                <small>Acceso inmediato tras el pago</small>
                            </p>
                        </div>
                    </div>
                </div>
            `;

            document.body.appendChild(enrollmentModal);
            enrollmentModal.style.display = 'block';

            const enrollmentForm = enrollmentModal.querySelector('#enrollmentForm');
            const closeBtn = enrollmentModal.querySelector('.close');

            closeBtn.addEventListener('click', () => {
                document.body.removeChild(enrollmentModal);
            });

            enrollmentForm.addEventListener('submit', async (e) => {
                e.preventDefault();

                const formData = new FormData(enrollmentForm);
                const userData = {
                    name: formData.get('name'),
                    email: formData.get('email'),
                    phone: formData.get('phone'),
                    department: formData.get('department')
                };

                const submitBtn = enrollmentForm.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<div class="loading"></div> Procesando...';
                submitBtn.disabled = true;

                try {
                    // Log detallado para depuraci√≥n
                    console.log('üîç DEBUG - Datos del curso:', courseData);
                    console.log('üîç DEBUG - Datos del usuario:', userData);
                    console.log('üîç DEBUG - courseType:', courseData.courseType);
                    console.log('üîç DEBUG - isMember:', courseData.isMember);

                    validateUserData(userData);

                    console.log('üîç DEBUG - Llamando a createCourseCheckout...');
                    const session = await createCourseCheckout(
                        courseData.courseType,
                        userData,
                        courseData.isMember
                    );

                    console.log('üîç DEBUG - Sesi√≥n creada:', session);
                    await redirectToStripeCheckout(session.id);
                } catch (error) {
                    console.error('‚ùå Enrollment error:', error);
                    console.error('‚ùå Error completo:', JSON.stringify(error, null, 2));
                    showMessage('error', 'Error al procesar la inscripci√≥n: ' + error.message);
                } finally {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }
            });
        }

      // Price display styles
        const priceStyles = document.createElement('style');
        priceStyles.textContent = `
            .price-display {
                text-align: center;
                margin: 2rem 0;
            }

            .currency {
                font-size: 1.5rem;
                vertical-align: top;
            }

            .amount {
                font-size: 4rem;
                font-weight: 700;
                line-height: 1;
            }

            .period {
                display: block;
                color: var(--text-light);
                font-size: 1rem;
                margin-top: 0.5rem;
            }

            .price-features {
                list-style: none;
                padding: 0;
                margin: 2rem 0;
            }

            .price-features li {
                padding: 0.5rem 0;
                display: flex;
                align-items: center;
                gap: 0.5rem;
            }

            .price-features i {
                color: #4CAF50;
            }

            select {
                width: 100%;
                padding: 0.8rem;
                border: 1px solid #ddd;
                border-radius: 5px;
                font-size: 1rem;
            }
        `;
        document.head.appendChild(priceStyles);

        // Funci√≥n para descargar el programa en PDF (generado en cliente)
        async function downloadProgramaPDF() {
            try {
                const btn = event.target.closest('a');
                const originalHTML = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generando PDF...';
                btn.style.pointerEvents = 'none';

                // Cargar jsPDF si no est√° disponible
                if (typeof window.jspdf === 'undefined') {
                    await loadJsPDF();
                }

                // Generar PDF del programa
                const pdfBlob = generateProgramPDF();

                // Descargar el PDF
                const url = window.URL.createObjectURL(pdfBlob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'Programa_Jornadas_IA_UGT.pdf';
                document.body.appendChild(a);
                a.click();
                window.URL.revokeObjectURL(url);
                document.body.removeChild(a);

                btn.innerHTML = originalHTML;
                btn.style.pointerEvents = 'auto';

                showNotification('‚úÖ PDF generado y descargado correctamente', 'success');
            } catch (error) {
                console.error('Error descargando PDF:', error);
                const btn = event.target.closest('a');
                btn.innerHTML = '<i class="fas fa-download"></i> Descargar Programa Completo (PDF)';
                btn.style.pointerEvents = 'auto';

                showNotification('‚ùå Error al generar el PDF. Por favor, int√©ntalo de nuevo.', 'error');
            }
        }

        // Funci√≥n para cargar jsPDF din√°micamente
        function loadJsPDF() {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js';
                script.onload = resolve;
                script.onerror = reject;
                document.head.appendChild(script);
            });
        }

        // Funci√≥n para generar el PDF del programa
        function generateProgramPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF('p', 'mm', 'a4');

            // Configuraci√≥n de p√°gina
            const pageWidth = doc.internal.pageSize.getWidth();
            const pageHeight = doc.internal.pageSize.getHeight();
            const margin = 15;
            let yPosition = margin;

            // Colores institucionales
            const primaryColor = [102, 126, 234];    // Azul UGT
            const secondaryColor = [118, 75, 162];  // P√∫rpura
            const accentColor = [236, 64, 122];     // Rosa acento
            const lightGray = [245, 245, 245];

            // Funci√≥n para agregar texto con salto de l√≠nea autom√°tico
            function addText(text, fontSize = 12, fontStyle = 'normal', color = [0, 0, 0]) {
                // Limpiar texto para evitar problemas de codificaci√≥n
                const cleanText = text.replace(/[^\x00-\x7F\u00C0-\u017F\u0400-\u04FF]/g, '');

                doc.setFontSize(fontSize);
                doc.setFont('helvetica', fontStyle);
                doc.setTextColor(...color);

                const maxWidth = pageWidth - (margin * 2);
                const lines = doc.splitTextToSize(cleanText, maxWidth);

                lines.forEach(line => {
                    if (yPosition > pageHeight - margin - 15) {
                        doc.addPage();
                        yPosition = margin;
                        addHeader(); // Agregar encabezado en nueva p√°gina
                    }
                    doc.text(line, margin, yPosition);
                    yPosition += fontSize <= 10 ? 5 : fontSize <= 12 ? 6 : fontSize <= 14 ? 7 : 8;
                });
                return yPosition;
            }

            // Funci√≥n para agregar encabezado con logo y colores
            function addHeader() {
                // Barra de color superior
                doc.setFillColor(...primaryColor);
                doc.rect(0, 0, pageWidth, 15, 'F');

                // Texto del encabezado
                doc.setTextColor(255, 255, 255);
                doc.setFontSize(10);
                doc.setFont('helvetica', 'bold');
                doc.text('UGT-CLM-UGR Granada', margin, 10);

                doc.setFontSize(8);
                doc.setFont('helvetica', 'normal');
                doc.text('Jornadas de Inteligencia Artificial', margin + 70, 10);

                // N√∫mero de p√°gina
                doc.text('P√°gina ' + doc.internal.getNumberOfPages(), pageWidth - margin - 20, 10);

                // Reset para contenido
                doc.setTextColor(0, 0, 0);
                yPosition = 25;
            }

            // Funci√≥n para agregar secci√≥n con fondo de color
            function addSectionBox(startY, height, color = lightGray) {
                doc.setFillColor(...color);
                const boxX = margin - 3;
                const boxWidth = pageWidth - (margin * 2) + 6;
                const boxY = startY - 5;
                const boxHeight = Math.max(height, 10);

                // Dibujar caja con bordes redondeados simulados
                doc.rect(boxX, boxY, boxWidth, boxHeight, 'F');

                // Asegurar que el texto quepa dentro
                return boxY + boxHeight;
            }

            // Funci√≥n para agregar l√≠nea separadora
            function addSeparator(yPos) {
                doc.setDrawColor(...primaryColor);
                doc.setLineWidth(0.5);
                doc.line(margin, yPos, pageWidth - margin, yPos);
            }

            // Funci√≥n mejorada para agregar texto con fondo de color
            function addTextWithBackground(text, fontSize = 12, fontStyle = 'normal', color = [0, 0, 0], bgColor = lightGray) {
                const startY = yPosition;
                // Limpiar caracteres problem√°ticos y reemplazar con equivalentes seguros
                const cleanText = text
                    .replace(/[√ò√∏]/g, 'O')
                    .replace(/[√ù√Ω]/g, 'Y')
                    .replace(/[√ê√∞]/g, 'D')
                    .replace(/[√û√æ]/g, 'Th')
                    .replace(/[√¶]/g, 'ae')
                    .replace(/[≈ì]/g, 'oe')
                    .replace(/[¬°]/g, '!')
                    .replace(/[¬ø]/g, '?')
                    .replace(/[""''""''`]/g, '"')
                    .replace(/[‚Äì‚Äî]/g, '-')
                    .replace(/[^\x00-\x7F\u00C0-\u017F\u0400-\u04FF]/g, '');

                doc.setFontSize(fontSize);
                doc.setFont('helvetica', fontStyle);
                doc.setTextColor(...color);

                const maxWidth = pageWidth - (margin * 2);
                const lines = doc.splitTextToSize(cleanText, maxWidth);

                // Calcular altura necesaria con m√°s precisi√≥n
                const lineHeight = fontSize <= 9 ? 4.5 : fontSize <= 10 ? 5 : fontSize <= 11 ? 5.5 : fontSize <= 12 ? 6 : fontSize <= 13 ? 6.5 : fontSize <= 14 ? 7 : 8;
                const neededHeight = (lines.length * lineHeight) + 12; // 12 = padding (6 arriba + 6 abajo)

                // Verificar si cabe en la p√°gina actual
                if (startY + neededHeight > pageHeight - margin - 20) {
                    doc.addPage();
                    yPosition = margin;
                    addHeader();
                }

                // Dibujar fondo primero
                doc.setFillColor(...bgColor);
                doc.rect(margin - 3, yPosition - 6, pageWidth - (margin * 2) + 6, neededHeight, 'F');

                // Agregar texto
                const textStartY = yPosition;
                lines.forEach((line, index) => {
                    doc.text(line, margin, textStartY + (index * lineHeight));
                });

                yPosition = textStartY + (lines.length * lineHeight) + 8;
                return yPosition;
            }

            // P√ÅGINA 1 - Portada mejorada
            addHeader();

            // Hero section con fondo gradiente simulado
            addSectionBox(yPosition - 5, 80, [240, 240, 250]);

            // T√≠tulo principal grande
            doc.setFontSize(32);
            doc.setFont('helvetica', 'bold');
            doc.setTextColor(...primaryColor);
            doc.text('Jornadas de', margin, yPosition + 10);
            doc.text('Inteligencia Artificial', margin, yPosition + 25);

            // Subt√≠tulo
            doc.setFontSize(18);
            doc.setTextColor(...secondaryColor);
            doc.setFont('helvetica', 'normal');
            doc.text('Para el Centro de Lenguas Modernas', margin, yPosition + 40);

            // L√≠nea decorativa
            doc.setDrawColor(...accentColor);
            doc.setLineWidth(2);
            doc.line(margin, yPosition + 48, margin + 60, yPosition + 48);

            yPosition += 65;

            // Descripci√≥n en columna con mejor formato
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(12);
            const description = 'Formaci√≥n pr√°ctica en IA adaptada espec√≠ficamente a las necesidades del personal del Centro de Lenguas Modernas. Un enfoque eminentemente pr√°ctico con 20 horas distribuidas en sesiones interactivas.';
            addText(description, 12, 'normal');

            // Quick info box
            yPosition += 10;
            yPosition = addTextWithBackground('INFORMACI√ìN R√ÅPIDA', 14, 'bold', primaryColor, [250, 250, 255]);

            const quickInfo = [
                'üìÖ Duraci√≥n: 20 horas (30 sesiones de 40 min)',
                'üíª Modalidad: Virtual a trav√©s de Zoom',
                'üìÜ Frecuencia: Viernes (ma√±ana y tarde)',
                'üéì Certificado: UGT-CLM Granada',
                'üë• Dirigido a: Todo el personal del CLM'
            ];

            quickInfo.forEach(info => {
                yPosition = addTextWithBackground(info, 11, 'normal', [0, 0, 0], [250, 250, 255]);
            });

            yPosition += 8;
            addSeparator(yPosition);

            // P√ÅGINA 2 - Detalles completos del programa
            doc.addPage();
            addHeader();

            addText('DETALLES DEL PROGRAMA', 20, 'bold', primaryColor);
            yPosition += 5;

            // Two-column layout simulation
            const leftCol = margin;
            const rightCol = pageWidth / 2 + 10;

            // Columna izquierda - Informaci√≥n general
            addSectionBox(yPosition - 3, 70, [245, 250, 255]);
            addText('INFORMACI√ìN GENERAL', 14, 'bold', primaryColor);
            yPosition += 3;

            const generalInfo = [
                'Duraci√≥n total: 20 horas',
                'N√∫mero de sesiones: 30',
                'Duraci√≥n por sesi√≥n: 40 minutos',
                'Frecuencia: 5 viernes consecutivos',
                'Horario: Ma√±ana y tarde (6 sesiones/d√≠a)',
                'Modalidad: Online v√≠a Zoom',
                'Plataforma: Zoom + herramientas digitales',
                'Material: Recursos digitales incluidos',
                'Certificado: Oficial UGT-CLM Granada',
                'Seguimiento: 6 meses post-jornadas'
            ];

            generalInfo.forEach(info => {
                addText('‚Ä¢ ' + info, 10, 'normal');
            });

            // Columna derecha - Precios
            const currentY = yPosition;
            yPosition = 40; // Reset para columna derecha

            addSectionBox(rightCol - 5, 45, [255, 245, 250]);
            doc.setTextColor(...accentColor);
            doc.setFontSize(14);
            doc.setFont('helvetica', 'bold');
            doc.text('INVERSI√ìN', rightCol, 45);

            doc.setTextColor(0, 0, 0);
            doc.setFontSize(11);
            doc.setFont('helvetica', 'normal');

            // Afiliados UGT
            doc.setFillColor(...primaryColor);
            doc.rect(rightCol - 3, 52, 80, 25, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(16);
            doc.setFont('helvetica', 'bold');
            doc.text('15‚Ç¨', rightCol + 25, 60);
            doc.setFontSize(10);
            doc.text('Afiliados UGT', rightCol + 15, 67);
            doc.text('(90% descuento)', rightCol + 12, 73);

            // No afiliados
            doc.setTextColor(0, 0, 0);
            doc.setDrawColor(...accentColor);
            doc.setLineWidth(1);
            doc.rect(rightCol - 3, 82, 80, 20);
            doc.setFontSize(14);
            doc.setFont('helvetica', 'bold');
            doc.text('160‚Ç¨', rightCol + 28, 90);
            doc.setFontSize(9);
            doc.text('No afiliados', rightCol + 18, 97);

            // Continuar con perfiles en misma p√°gina
            yPosition = Math.max(currentY, 110) + 10;
            addSeparator(yPosition);
            yPosition += 8;

            // T√≠tulo con fondo de color para perfiles profesionales
            yPosition = addTextWithBackground('PERFILES PROFESIONALES DIRIGIDOS', 16, 'bold', secondaryColor, [245, 240, 255]);
            yPosition += 3;

            const perfiles = [
                { icon: 'üë®‚Äçüè´', text: 'Profesores de espa√±ol como lengua extranjera' },
                { icon: 'üåç', text: 'Profesores de otras lenguas modernas' },
                { icon: 'üíº', text: 'Personal de administraci√≥n y gesti√≥n' },
                { icon: 'üîë', text: 'Personal de conserjer√≠a y recepci√≥n' },
                { icon: 'üõ†Ô∏è', text: 'Personal de servicios t√©cnicos y mantenimiento' }
            ];

            perfiles.forEach(perfil => {
                yPosition = addTextWithBackground(`${perfil.icon} ${perfil.text}`, 11, 'normal', [0, 0, 0], [245, 240, 255]);
            });

            yPosition += 8;
            addSeparator(yPosition);

            // P√ÅGINA 3 - Bloques tem√°ticos (contin√∫a en misma p√°gina si hay espacio)
            if (yPosition > 200) {
                doc.addPage();
                addHeader();
            }

            // Continuar con bloques tem√°ticos en la p√°gina 3
            const bloques = [
                {
                    title: 'BLOQUE 1: Fundamentos de la IA',
                    duration: '4 horas ¬∑ 6 sesiones',
                    color: [102, 126, 234],
                    topics: [
                        'Introducci√≥n a la IA: conceptos b√°sicos y evoluci√≥n',
                        'Tipos de IA: d√©bil vs fuerte, estrecha vs general',
                        'Principales tecnolog√≠as: Machine Learning, NLP, visi√≥n artificial',
                        'Herramientas de IA accesibles: panorama actual',
                        '√âtica y responsabilidad en el uso de la IA',
                        'Enfoque pr√°ctico: Primeros pasos con ChatGPT y herramientas b√°sicas'
                    ]
                },
                {
                    title: 'BLOQUE 2: IA en el √Åmbito Educativo',
                    duration: '6 horas ¬∑ 9 sesiones',
                    color: [118, 75, 162],
                    topics: [
                        'IA para la creaci√≥n de contenidos educativos',
                        'Herramientas de IA para la ense√±anza de idiomas',
                        'Evaluaci√≥n y feedback autom√°tico',
                        'Personalizaci√≥n del aprendizaje mediante IA',
                        'Traducci√≥n y adaptaci√≥n de materiales',
                        'Creaci√≥n de recursos multimedia con IA',
                        'Detecci√≥n de plagio y uso √©tico',
                        'Asistentes virtuales para estudiantes',
                        'Talleres espec√≠ficos para profesores de espa√±ol y otras lenguas'
                    ]
                }
            ];

            bloques.forEach((bloque, index) => {
                // Agregar nueva p√°gina si no hay espacio
                if (yPosition > 220) {
                    doc.addPage();
                    addHeader();
                }

                // T√≠tulo del bloque con color y fondo
                yPosition = addTextWithBackground(bloque.title + ' - ' + bloque.duration, 14, 'bold', bloque.color, [240, 240, 250]);

                yPosition += 5;

                // T√≥picos con fondo continuo
                bloque.topics.forEach(topic => {
                    yPosition = addTextWithBackground('‚Ä¢ ' + topic, 9, 'normal', [0, 0, 0], [240, 240, 250]);
                });

                yPosition += 5;
            });

            // P√ÅGINA 4 - Continuaci√≥n de bloques tem√°ticos
            doc.addPage();
            addHeader();

            const bloques2 = [
                {
                    title: 'BLOQUE 3: IA en la Gesti√≥n Administrativa',
                    duration: '4 horas ¬∑ 6 sesiones',
                    color: [236, 64, 122],
                    topics: [
                        'Automatizaci√≥n de procesos administrativos',
                        'IA para la atenci√≥n multiling√ºe',
                        'Gesti√≥n documental inteligente',
                        'An√°lisis de datos para la toma de decisiones',
                        'Optimizaci√≥n de recursos mediante IA',
                        'Talleres espec√≠ficos para personal administrativo'
                    ]
                },
                {
                    title: 'BLOQUE 4: IA en Servicios y Conserjer√≠a',
                    duration: '2 horas ¬∑ 3 sesiones',
                    color: [76, 175, 80],
                    topics: [
                        'Sistemas de informaci√≥n inteligentes',
                        'Gesti√≥n de espacios y recursos',
                        'Asistencia multiling√ºe automatizada',
                        'Talleres espec√≠ficos para personal de conserjer√≠a y servicios'
                    ]
                },
                {
                    title: 'BLOQUE 5: Proyectos Colaborativos',
                    duration: '4 horas ¬∑ 6 sesiones',
                    color: [255, 152, 0],
                    topics: [
                        'Dise√±o de soluciones basadas en IA para el centro',
                        'Implementaci√≥n de casos pr√°cticos',
                        'Presentaci√≥n de proyectos y retroalimentaci√≥n',
                        'Evaluaci√≥n de impacto y sostenibilidad',
                        'Plan de acci√≥n futuro',
                        'Trabajo en equipos mixtos para resolver problemas reales'
                    ]
                }
            ];

            bloques2.forEach((bloque, index) => {
                if (yPosition > 180) {
                    doc.addPage();
                    addHeader();
                }

                // T√≠tulo del bloque con color y fondo
                yPosition = addTextWithBackground(bloque.title + ' - ' + bloque.duration, 14, 'bold', bloque.color, [245, 245, 255]);

                yPosition += 5;

                // T√≥picos con fondo continuo
                bloque.topics.forEach(topic => {
                    yPosition = addTextWithBackground('‚Ä¢ ' + topic, 9, 'normal', [0, 0, 0], [245, 245, 255]);
                });

                yPosition += 5;
            });

            // P√ÅGINA 5 - Metodolog√≠a y evaluaci√≥n
            doc.addPage();
            addHeader();

            yPosition = addTextWithBackground('METODOLOG√çA DE APRENDIZAJE', 18, 'bold', primaryColor, [240, 250, 245]);
            yPosition = addTextWithBackground('Principios Metodol√≥gicos', 14, 'bold', secondaryColor, [240, 250, 245]);

            const metodologiaItems = [
                { icon: 'üéØ', text: 'Aprendizaje Activo - Utilizaras herramientas de IA desde la primera sesion' },
                { icon: 'üíª', text: 'Enfoque Practico - Minimo contenido teorico, maxima aplicacion practica' },
                { icon: 'üé®', text: 'Personalizacion - Actividades adaptadas a cada perfil profesional' },
                { icon: 'ü§ù', text: 'Colaboracion - Fomento del trabajo en equipo e intercambio de experiencias' },
                { icon: 'üìà', text: 'Progresion - De lo simple a lo complejo, construyendo sobre lo aprendido' },
                { icon: 'üöÄ', text: 'Aplicacion Inmediata - Todo lo aprendido se aplica en el entorno laboral' }
            ];

            metodologiaItems.forEach(item => {
                yPosition = addTextWithBackground(`${item.icon} ${item.text}`, 10, 'normal', [0, 0, 0], [240, 250, 245]);
            });

            yPosition += 10;
            addSeparator(yPosition);
            yPosition += 8;

            addText('ESTRUCTURA DE SESIONES (40 minutos)', 16, 'bold', primaryColor);
            yPosition += 5;

            const sesiones = [
                { time: '5 min', title: 'Introducci√≥n', desc: 'Presentaci√≥n del tema y objetivos' },
                { time: '10 min', title: 'Demostraci√≥n', desc: 'Ejemplo pr√°ctico con herramientas reales' },
                { time: '15 min', title: 'Pr√°ctica Guiada', desc: 'Aplicaci√≥n con apoyo del formador' },
                { time: '10 min', title: 'Reflexi√≥n y Dudas', desc: 'Discusi√≥n y resoluci√≥n de problemas' }
            ];

            sesiones.forEach((sesion, index) => {
                const sessionText = `${index + 1}. ${sesion.title} (${sesion.time})`;
                yPosition = addTextWithBackground(sessionText, 11, 'bold', primaryColor, [250, 250, 255]);

                doc.setTextColor(0, 0, 0);
                doc.setFontSize(9);
                doc.setFont('helvetica', 'normal');
                doc.text(sesion.desc, margin + 5, yPosition);

                yPosition += 12;
            });

            // P√ÅGINA 6 - Informaci√≥n de contacto y pie
            doc.addPage();
            addHeader();

            // Calendario visual
            addText('CALENDARIO DE LAS JORNADAS', 18, 'bold', primaryColor);
            yPosition += 8;

            const semanas = [
                { week: 'Semana 1', topic: 'Fundamentos de IA', date: 'Viernes' },
                { week: 'Semana 2', topic: 'IA Educativa (Parte 1)', date: 'Viernes' },
                { week: 'Semana 3', topic: 'IA Educativa (Parte 2)', date: 'Viernes' },
                { week: 'Semana 4', topic: 'IA Administrativa + Servicios', date: 'Viernes' },
                { week: 'Semana 5', topic: 'Proyectos Colaborativos', date: 'Viernes' }
            ];

            semanas.forEach((semana, index) => {
                const weekText = `${semana.week} - ${semana.topic} (${semana.date})`;
                yPosition = addTextWithBackground(weekText, 10, 'bold', primaryColor, [245, 250, 255]);
            });

            yPosition += 10;
            addSeparator(yPosition);
            yPosition += 10;

            // Informaci√≥n de contacto con dise√±o - Posicionado m√°s abajo
            yPosition += 15; // Espacio adicional antes de la secci√≥n de contacto

            yPosition = addTextWithBackground('INFORMACI√ìN DE CONTACTO', 16, 'bold', primaryColor, [240, 240, 250]);

            doc.setTextColor(0, 0, 0);
            doc.setFontSize(12);
            doc.setFont('helvetica', 'bold');
            doc.text('UGT-CLM-UGR Granada', margin, yPosition);
            yPosition += 8;

            doc.setFontSize(10);
            doc.setFont('helvetica', 'normal');
            yPosition = addTextWithBackground('Secci√≥n Sindical - Centro de Lenguas Modernas - Universidad de Granada', 10, 'normal', [0, 0, 0], [240, 240, 250]);
            yPosition = addTextWithBackground('Para cualquier consulta sobre las jornadas:', 10, 'normal', [0, 0, 0], [240, 240, 250]);

            const contactInfo = [
                'üìß Email: ugtclmgranada@gmail.com',
                'üåê Web: www.ugtclmgranada.org',
                'üì± Tel√©fono: 622 54 54 77'
            ];
            contactInfo.forEach(info => {
                yPosition = addTextWithBackground(info, 10, 'normal', [0, 0, 0], [240, 240, 250]);
            });

            // Footer en todas las p√°ginas
            const pageCount = doc.internal.getNumberOfPages();
            for (let i = 1; i <= pageCount; i++) {
                doc.setPage(i);

                // Footer bar
                doc.setFillColor(...primaryColor);
                doc.rect(0, pageHeight - 20, pageWidth, 20, 'F');

                // Footer text - Dividido en dos l√≠neas para mejor visualizaci√≥n
                doc.setTextColor(255, 255, 255);
                doc.setFontSize(7);
                doc.setFont('helvetica', 'normal');

                // Primera l√≠nea
                doc.text('¬© 2025 UGT-CLM-UGR Granada - Todos los derechos reservados', margin, pageHeight - 16);
                doc.text(`P√°gina ${i} de ${pageCount}`, pageWidth - margin - 25, pageHeight - 16);

                // Segunda l√≠nea
                doc.text('Jornadas de Inteligencia Artificial para el CLM', margin, pageHeight - 10);
            }

            return doc.output('blob');
        }

        // Funci√≥n para generar certificado del curso
        async function generateCertificate(courseType = 'jornadas-ia', event = null) {
            let btn = null;
            let originalHTML = '';

            try {
                // Verificar si el usuario est√° autenticado
                const token = localStorage.getItem('accessToken');
                if (!token) {
                    showNotification('‚ùå Debes iniciar sesi√≥n para generar tu certificado', 'error');
                    showLoginModal();
                    return;
                }

                // Mostrar indicador de carga si se llam√≥ desde un bot√≥n
                if (event && event.target) {
                    btn = event.target.closest('button');
                    if (btn) {
                        originalHTML = btn.innerHTML;
                        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generando certificado...';
                        btn.disabled = true;
                    }
                }

                // Obtener informaci√≥n del usuario
                const user = JSON.parse(localStorage.getItem('user') || '{}');

                // Verificar elegibilidad primero
                const eligibilityResponse = await fetch(`${BACKEND_URL}/api/certificates/check-eligibility/${courseType}`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (!eligibilityResponse.ok) {
                    throw new Error('No se pudo verificar la elegibilidad para el certificado');
                }

                const eligibilityData = await eligibilityResponse.json();

                if (!eligibilityData.eligible) {
                    showNotification('‚ùå A√∫n no eres elegible para el certificado. Debes completar el curso primero.', 'error');
                    if (btn) {
                        btn.innerHTML = originalHTML;
                        btn.disabled = false;
                    }
                    return;
                }

                // Generar certificado
                const certificateData = {
                    courseType: courseType,
                    participantName: user.nombre || user.name || 'Nombre del Participante',
                    participantEmail: user.email,
                    duration: '20 horas',
                    completionDate: new Date().toISOString().split('T')[0]
                };

                const response = await fetch(`${BACKEND_URL}/api/certificates/generate`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(certificateData)
                });

                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    throw new Error(errorData.error || 'Error al generar el certificado');
                }

                // Descargar el certificado PDF
                const blob = await response.blob();
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `certificado-${courseType}-${user.nombre.replace(/\s+/g, '-').toLowerCase()}.pdf`;
                document.body.appendChild(a);
                a.click();
                window.URL.revokeObjectURL(url);
                document.body.removeChild(a);

                // Restaurar bot√≥n
                if (btn) {
                    btn.innerHTML = originalHTML;
                    btn.disabled = false;
                }

                showNotification('üéâ ¬°Certificado generado y descargado exitosamente!', 'success');

            } catch (error) {
                console.error('Error generando certificado:', error);

                // Restaurar bot√≥n si existe
                if (btn) {
                    btn.innerHTML = originalHTML;
                    btn.disabled = false;
                }

                if (error.message.includes('401') || error.message.includes('403')) {
                    showNotification('‚ùå Tu sesi√≥n ha expirado. Por favor, inicia sesi√≥n nuevamente.', 'error');
                    showLoginModal();
                } else {
                    showNotification('‚ùå Error al generar el certificado: ' + error.message, 'error');
                }
            }
        }

        // Funci√≥n para mostrar notificaciones (compatible con versi√≥n existente)
        function showNotification(message, type = 'info') {
            // Intentar usar showMessage si est√° disponible (del main.js)
            if (typeof showMessage === 'function') {
                showMessage(type, message);
                return;
            }

            // Crear notificaci√≥n personalizada si showMessage no existe
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                font-size: 14px;
                max-width: 300px;
                word-wrap: break-word;
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;

            notification.textContent = message;
            document.body.appendChild(notification);

            // Animar entrada
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);

            // Remover despu√©s de 4 segundos
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        // =======================================
        // CONTADOR DE PLAZAS DIN√ÅMICO
        // =======================================

        // Configuraci√≥n del contador
        const spotsConfig = {
            totalSpots: 15,
            currentEnrolled: 3, // 3 reservas actuales
            updateInterval: 30000, // 30 segundos
            urgencyThreshold: 5 // Menos de 5 plazas = urgencia
        };

        // Funci√≥n para actualizar el contador
        function updateSpotsCounter() {
            const availableSpots = spotsConfig.totalSpots - spotsConfig.currentEnrolled;
            const percentage = Math.round((spotsConfig.currentEnrolled / spotsConfig.totalSpots) * 100);

            // Actualizar elementos del DOM
            const availableSpotsEl = document.getElementById('availableSpots');
            const spotsProgressEl = document.getElementById('spotsProgress');
            const spotsPercentageEl = document.getElementById('spotsPercentage');
            const enrolledCountEl = document.getElementById('enrolledCount');
            const nextFridayEl = document.getElementById('nextFriday');

            if (availableSpotsEl) {
                availableSpotsEl.textContent = availableSpots;

                // Efecto de urgencia si quedan pocas plazas
                if (availableSpots <= spotsConfig.urgencyThreshold) {
                    availableSpotsEl.style.color = '#ff4444';
                    availableSpotsEl.style.animation = 'pulse 1s infinite';

                    // Mostrar mensaje de urgencia
                    if (!document.querySelector('.urgency-message')) {
                        const urgencyMsg = document.createElement('div');
                        urgencyMsg.className = 'urgency-message';
                        urgencyMsg.style.cssText = `
                            background: #ff4444;
                            color: white;
                            padding: 0.5rem 1rem;
                            border-radius: 20px;
                            font-size: 0.85rem;
                            margin-top: 0.5rem;
                            animation: fadeInUp 0.5s ease;
                        `;
                        urgencyMsg.innerHTML = '<i class="fas fa-exclamation-triangle"></i> ¬°√öLTIMAS PLAZAS!';
                        availableSpotsEl.parentElement.appendChild(urgencyMsg);
                    }
                }
            }

            if (spotsProgressEl) {
                spotsProgressEl.style.width = percentage + '%';
                // Cambiar color si est√° casi lleno
                if (percentage >= 80) {
                    spotsProgressEl.style.background = 'linear-gradient(90deg, #ff4444, #ff6666)';
                }
            }

            if (spotsPercentageEl) {
                spotsPercentageEl.textContent = percentage + '%';
            }

            if (enrolledCountEl) {
                enrolledCountEl.textContent = spotsConfig.currentEnrolled;
            }

            // Actualizar contador r√°pido en navegaci√≥n sticky
            const quickSpotsEl = document.getElementById('quickSpots');
            const quickTotalEl = document.getElementById('quickTotal');
            if (quickSpotsEl) {
                quickSpotsEl.textContent = availableSpots;
            }
            if (quickTotalEl) {
                quickTotalEl.textContent = spotsConfig.totalSpots;
            }

            if (nextFridayEl) {
                // Calcular pr√≥ximo viernes
                const today = new Date();
                const daysUntilFriday = (5 - today.getDay() + 7) % 7 || 7;
                const nextFriday = new Date(today.getTime() + daysUntilFriday * 24 * 60 * 60 * 1000);
                const options = { day: 'numeric', month: 'short' };
                nextFridayEl.textContent = nextFriday.toLocaleDateString('es-ES', options);
            }
        }

        // Inicializar el contador
        document.addEventListener('DOMContentLoaded', function() {
            updateSpotsCounter();

            // Efecto parpadeo inicial para llamar la atenci√≥n
            setTimeout(() => {
                const counter = document.querySelector('.spots-counter');
                if (counter) {
                    counter.style.animation = 'pulse 2s ease-in-out';
                }
            }, 2000);
        });

        // A√±adir estilos CSS para animaciones
        const spotsStyles = `
            @keyframes pulse {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.05); }
            }

            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .spots-counter {
                animation: fadeInUp 0.8s ease;
            }

            .spots-counter:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 25px rgba(0,0,0,0.2);
                transition: all 0.3s ease;
            }

            @media (max-width: 768px) {
                .spots-counter > div {
                    flex-direction: column;
                    gap: 1rem;
                }

                .spots-counter {
                    padding: 1rem;
                }
            }
        `;

        const spotsStyleSheet = document.createElement('style');
        spotsStyleSheet.textContent = spotsStyles;
        document.head.appendChild(spotsStyleSheet);

        // =======================================
        // INFOGRAF√çA ANIMADA DEL PROCESO
        // =======================================

        // Funci√≥n para animar las etapas del aprendizaje
        function animateLearningJourney() {
            const stages = document.querySelectorAll('.journey-stage');
            const result = document.querySelector('.journey-result');

            // Crear Intersection Observer para activar animaciones
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0)';
                        }, index * 200);

                        // Animar puntos de la l√≠nea de tiempo
                        const stagePoint = entry.target.querySelector('.stage-point');
                        if (stagePoint) {
                            setTimeout(() => {
                                stagePoint.style.animation = 'pulse 2s infinite';
                            }, index * 200 + 500);
                        }
                    }
                });
            }, {
                threshold: 0.3,
                rootMargin: '0px 0px -100px 0px'
            });

            // Observar cada etapa
            stages.forEach((stage, index) => {
                observer.observe(stage);

                // A√±adir efectos hover interactivos
                stage.addEventListener('mouseenter', function() {
                    const stagePoint = this.querySelector('.stage-point');
                    const stageIcon = this.querySelector('.stage-icon');

                    if (stagePoint) {
                        stagePoint.style.transform = 'scale(1.3)';
                        stagePoint.style.transition = 'transform 0.3s ease';
                    }
                    if (stageIcon) {
                        stageIcon.style.transform = 'scale(1.2) rotate(5deg)';
                        stageIcon.style.transition = 'transform 0.3s ease';
                    }
                });

                stage.addEventListener('mouseleave', function() {
                    const stagePoint = this.querySelector('.stage-point');
                    const stageIcon = this.querySelector('.stage-icon');

                    if (stagePoint) {
                        stagePoint.style.transform = 'scale(1)';
                    }
                    if (stageIcon) {
                        stageIcon.style.transform = 'scale(1) rotate(0deg)';
                    }
                });
            });

            // Observar el resultado final
            if (result) {
                const resultObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            setTimeout(() => {
                                entry.target.style.opacity = '1';
                                entry.target.style.transform = 'translateY(0) scale(1.05)';
                                setTimeout(() => {
                                    entry.target.style.transform = 'translateY(0) scale(1)';
                                }, 300);
                            }, 500);
                        }
                    });
                }, {
                    threshold: 0.3
                });
                resultObserver.observe(result);
            }
        }

        // Funci√≥n para a√±adir efectos de progreso din√°micos
        function addProgressEffects() {
            const stages = document.querySelectorAll('.journey-stage');

            stages.forEach((stage, index) => {
                const stageContent = stage.querySelector('.stage-content');
                const stageNumber = stage.querySelector('.stage-number');

                // Crear efecto de part√≠culas cuando aparece
                if (stageContent) {
                    stageContent.addEventListener('animationend', function() {
                        createParticles(stageNumber);
                    });
                }
            });
        }

        // Funci√≥n para crear part√≠culas animadas
        function createParticles(element) {
            if (!element) return;

            const rect = element.getBoundingClientRect();
            const colors = ['#667eea', '#764ba2', '#9c27b0', '#ff9800', '#4caf50'];

            for (let i = 0; i < 5; i++) {
                const particle = document.createElement('div');
                particle.style.cssText = `
                    position: fixed;
                    width: 6px;
                    height: 6px;
                    background: ${colors[Math.floor(Math.random() * colors.length)]};
                    border-radius: 50%;
                    left: ${rect.left + rect.width / 2}px;
                    top: ${rect.top + rect.height / 2}px;
                    pointer-events: none;
                    z-index: 9999;
                    animation: particleFade 1s ease-out forwards;
                `;

                // Animaci√≥n de part√≠cula
                const angle = (i / 5) * Math.PI * 2;
                const distance = 50 + Math.random() * 50;
                const endX = Math.cos(angle) * distance;
                const endY = Math.sin(angle) * distance;

                particle.style.setProperty('--endX', endX + 'px');
                particle.style.setProperty('--endY', endY + 'px');

                document.body.appendChild(particle);

                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 1000);
            }
        }

        // Inicializar animaciones cuando el DOM est√© listo
        document.addEventListener('DOMContentLoaded', function() {
            // Esperar un poco antes de iniciar animaciones
            setTimeout(() => {
                animateLearningJourney();
                addProgressEffects();
            }, 500);
        });

        // A√±adir estilos CSS para las animaciones
        const journeyStyles = `
            @keyframes particleFade {
                0% {
                    opacity: 1;
                    transform: translate(0, 0) scale(1);
                }
                100% {
                    opacity: 0;
                    transform: translate(var(--endX), var(--endY)) scale(0);
                }
            }

            .journey-stage:hover .stage-point {
                transform: scale(1.3) !important;
                transition: transform 0.3s ease;
            }

            .journey-stage:hover .stage-icon {
                transform: scale(1.2) rotate(5deg) !important;
                transition: transform 0.3s ease;
            }

            .journey-stage {
                position: relative;
            }

            .journey-stage::before {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                background: radial-gradient(circle, rgba(102, 126, 234, 0.1) 0%, transparent 70%);
                border-radius: 50%;
                transform: translate(-50%, -50%);
                transition: all 0.6s ease;
                pointer-events: none;
            }

            .journey-stage:hover::before {
                width: 200px;
                height: 200px;
            }

            .timeline-line {
                background: linear-gradient(180deg,
                    transparent 0%,
                    #667eea 20%,
                    #764ba2 50%,
                    #9c27b0 70%,
                    #ff9800 85%,
                    #4caf50 100%,
                    transparent 100%) !important;
                animation: lineGlow 3s ease-in-out infinite;
            }

            @keyframes lineGlow {
                0%, 100% { opacity: 0.7; }
                50% { opacity: 1; }
            }

            .stage-number {
                position: relative;
                overflow: hidden;
            }

            .stage-number::before {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
                transform: rotate(45deg);
                animation: shimmer 2s infinite;
            }

            @keyframes shimmer {
                0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
                100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
            }

            @media (max-width: 768px) {
                .learning-journey {
                    padding: 0 1rem;
                }

                .journey-stage {
                    flex-direction: column !important;
                    text-align: center !important;
                    margin-bottom: 2rem;
                }

                .stage-content {
                    padding: 1rem !important;
                    text-align: center !important;
                }

                .timeline-line {
                    left: 20px;
                    width: 3px;
                }

                .stage-point {
                    position: absolute;
                    left: 11px;
                }

                .stage-empty {
                    display: none;
                }
            }
        `;

        const journeyStyleSheet = document.createElement('style');
        journeyStyleSheet.textContent = journeyStyles;
        document.head.appendChild(journeyStyleSheet);

        // =======================================
        // ANIMACI√ìN DE BADGES DE CREDENCIALES
        // =======================================

        // Funci√≥n para animar los badges de credenciales
        function animateCredentialBadges() {
            const badges = document.querySelectorAll('.credential-badge');
            const qualitySeals = document.querySelector('.quality-seals');

            // Crear Intersection Observer para badges
            const badgeObserver = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0) scale(1.02)';
                            setTimeout(() => {
                                entry.target.style.transform = 'translateY(0) scale(1)';
                            }, 200);
                        }, index * 150);

                        // A√±adir efecto flotante despu√©s de la animaci√≥n inicial
                        setTimeout(() => {
                            entry.target.style.animation = 'float 3s ease-in-out infinite';
                        }, index * 150 + 800);
                    }
                });
            }, {
                threshold: 0.2,
                rootMargin: '0px 0px -50px 0px'
            });

            // Observar cada badge
            badges.forEach((badge, index) => {
                badgeObserver.observe(badge);

                // A√±adir efectos hover interactivos
                badge.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px) scale(1.05) rotate(1deg)';
                    this.style.boxShadow = '0 15px 40px rgba(0,0,0,0.2)';

                    // Animar icono
                    const icon = this.querySelector('.badge-icon');
                    if (icon) {
                        icon.style.transform = 'scale(1.2) rotate(10deg)';
                        icon.style.transition = 'transform 0.3s ease';
                    }
                });

                badge.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                    this.style.boxShadow = 'none';

                    // Restaurar icono
                    const icon = this.querySelector('.badge-icon');
                    if (icon) {
                        icon.style.transform = 'scale(1) rotate(0deg)';
                    }
                });

                // A√±adir efecto de clic
                badge.addEventListener('click', function() {
                    this.style.animation = 'pulse 0.5s ease';
                    setTimeout(() => {
                        this.style.animation = 'float 3s ease-in-out infinite';
                    }, 500);
                });
            });

            // Observar sellos de calidad
            if (qualitySeals) {
                const sealObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            setTimeout(() => {
                                entry.target.style.opacity = '1';
                                entry.target.style.transform = 'translateY(0)';

                                // Animar sellos individuales
                                const sealItems = entry.target.querySelectorAll('.seal-item');
                                sealItems.forEach((seal, index) => {
                                    setTimeout(() => {
                                        seal.style.opacity = '0';
                                        seal.style.transform = 'translateY(20px)';
                                        setTimeout(() => {
                                            seal.style.opacity = '1';
                                            seal.style.transform = 'translateY(0)';
                                            seal.style.transition = 'all 0.5s ease';
                                        }, 50);
                                    }, index * 100);
                                });
                            }, 300);
                        }
                    });
                }, {
                    threshold: 0.3
                });
                sealObserver.observe(qualitySeals);
            }
        }

        // Funci√≥n para a√±adir efectos de brillo din√°mico
        function addShineEffects() {
            const badges = document.querySelectorAll('.credential-badge');

            badges.forEach(badge => {
                // Crear part√≠culas de brillo aleatorias
                setInterval(() => {
                    if (Math.random() < 0.3) { // 30% de probabilidad
                        createShineParticle(badge);
                    }
                }, 3000);
            });
        }

        // Funci√≥n para crear part√≠culas de brillo
        function createShineParticle(element) {
            const particle = document.createElement('div');
            particle.style.cssText = `
                position: absolute;
                width: 4px;
                height: 4px;
                background: white;
                border-radius: 50%;
                left: ${Math.random() * 100}%;
                top: ${Math.random() * 100}%;
                opacity: 0;
                pointer-events: none;
                z-index: 10;
                animation: sparkle 1s ease-out forwards;
            `;

            element.appendChild(particle);

            setTimeout(() => {
                if (particle.parentNode) {
                    particle.parentNode.removeChild(particle);
                }
            }, 1000);
        }

        // Inicializar animaciones de badges
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                animateCredentialBadges();
                addShineEffects();
            }, 800);
        });

        // A√±adir estilos CSS para animaciones de badges
        const badgeStyles = `
            @keyframes shine {
                0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
                100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
            }

            @keyframes float {
                0%, 100% { transform: translateY(0px) scale(1); }
                50% { transform: translateY(-3px) scale(1.01); }
            }

            @keyframes sparkle {
                0% {
                    opacity: 0;
                    transform: scale(0);
                }
                50% {
                    opacity: 1;
                    transform: scale(1);
                }
                100% {
                    opacity: 0;
                    transform: scale(0) translateY(-20px);
                }
            }

            .credential-badge {
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                cursor: pointer;
                position: relative;
            }

            .credential-badge:hover {
                z-index: 10;
            }

            .credential-badge::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
                opacity: 0;
                transition: opacity 0.3s ease;
                border-radius: 15px;
            }

            .credential-badge:hover::before {
                opacity: 1;
            }

            .badge-icon {
                transition: all 0.3s ease;
                position: relative;
                z-index: 2;
            }

            .badge-icon::after {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
                border-radius: 50%;
                transform: translate(-50%, -50%);
                transition: all 0.5s ease;
            }

            .credential-badge:hover .badge-icon::after {
                width: 80px;
                height: 80px;
            }

            .seal-item {
                transition: all 0.3s ease;
                opacity: 0;
                transform: translateY(20px);
            }

            .seal-item:hover {
                transform: translateY(-5px) scale(1.1);
            }

            .seal-item div {
                transition: all 0.3s ease;
            }

            .seal-item:hover div {
                transform: scale(1.1);
                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            }

            @media (max-width: 768px) {
                .credentials-container {
                    grid-template-columns: 1fr;
                    gap: 1.5rem;
                }

                .credential-badge {
                    padding: 1.5rem;
                }

                .badge-icon {
                    font-size: 2.5rem;
                }

                .quality-seals > div {
                    gap: 2rem;
                }
            }

            @media (max-width: 480px) {
                .seal-item {
                    min-width: 100px;
                }

                .seal-item span {
                    font-size: 0.8rem;
                }
            }
        `;

        const badgeStyleSheet = document.createElement('style');
        badgeStyleSheet.textContent = badgeStyles;
        document.head.appendChild(badgeStyleSheet);

        // =======================================
        // ANIMACI√ìN DE INDICADORES DE BLOQUES
        // =======================================

        // Funci√≥n para animar los indicadores de dificultad y progreso
        function animateBlockIndicators() {
            const blocks = document.querySelectorAll('.bloque[data-difficulty]');

            blocks.forEach((block, index) => {
                const difficulty = block.dataset.difficulty;
                const progress = parseInt(block.dataset.progress);

                // Animar barras de progreso al cargar
                const progressFills = block.querySelectorAll('.progress-fill');
                progressFills.forEach(fill => {
                    const targetWidth = fill.style.width;
                    fill.style.width = '0%';

                    setTimeout(() => {
                        fill.style.width = targetWidth;
                    }, index * 200 + 500);
                });

                // A√±adir efectos interactivos
                block.addEventListener('mouseenter', function() {
                    // Resaltar indicadores
                    const indicators = this.querySelectorAll('.difficulty-indicator, .progress-indicator');
                    indicators.forEach(indicator => {
                        indicator.style.background = 'rgba(255,255,255,0.2)';
                        indicator.style.transform = 'scale(1.05)';
                    });

                    // Animar barras
                    const fills = this.querySelectorAll('.difficulty-fill, .progress-fill');
                    fills.forEach(fill => {
                        fill.style.animation = 'progressPulse 0.8s ease-in-out infinite';
                    });
                });

                block.addEventListener('mouseleave', function() {
                    // Restaurar indicadores
                    const indicators = this.querySelectorAll('.difficulty-indicator, .progress-indicator');
                    indicators.forEach(indicator => {
                        indicator.style.background = 'rgba(255,255,255,0.1)';
                        indicator.style.transform = 'scale(1)';
                    });

                    // Detener animaci√≥n de barras
                    const fills = this.querySelectorAll('.difficulty-fill, .progress-fill');
                    fills.forEach(fill => {
                        fill.style.animation = '';
                    });
                });

                // A√±adir efecto de clic para mostrar detalles
                block.addEventListener('click', function(e) {
                    if (!e.target.closest('h3') && !e.target.closest('ul')) {
                        showBlockDetails(this);
                    }
                });
            });
        }

        // Funci√≥n para mostrar detalles del bloque
        function showBlockDetails(block) {
            const difficulty = block.dataset.difficulty;
            const progress = block.dataset.progress;
            const title = block.querySelector('h3').textContent;

            // Crear tooltip o modal con informaci√≥n detallada
            const tooltip = document.createElement('div');
            tooltip.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 2rem;
                border-radius: 15px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                z-index: 10000;
                max-width: 400px;
                animation: modalFadeIn 0.3s ease;
            `;

            const difficultyColors = {
                'beginner': '#4caf50',
                'intermediate': '#ff9800',
                'advanced': '#f44336'
            };

            const difficultyLabels = {
                'beginner': 'Principiante',
                'intermediate': 'Intermedio',
                'advanced': 'Avanzado'
            };

            tooltip.innerHTML = `
                <div style="text-align: center;">
                    <h3 style="margin: 0 0 1rem 0; color: #1a237e;">${title}</h3>
                    <div style="display: flex; justify-content: space-around; margin-bottom: 1.5rem;">
                        <div>
                            <div style="font-size: 0.9rem; color: #666; margin-bottom: 0.5rem;">Dificultad</div>
                            <div style="font-size: 1.2rem; font-weight: bold; color: ${difficultyColors[difficulty]};">
                                ${difficultyLabels[difficulty]}
                            </div>
                        </div>
                        <div>
                            <div style="font-size: 0.9rem; color: #666; margin-bottom: 0.5rem;">Progreso</div>
                            <div style="font-size: 1.2rem; font-weight: bold; color: #1a237e;">
                                ${progress}%
                            </div>
                        </div>
                    </div>
                    <p style="color: #666; line-height: 1.5; margin-bottom: 1.5rem;">
                        Haz clic en cualquier bloque para ver m√°s detalles sobre los contenidos y actividades.
                    </p>
                    <button onclick="this.parentElement.parentElement.remove()" style="
                        background: #1a237e;
                        color: white;
                        border: none;
                        padding: 0.5rem 1.5rem;
                        border-radius: 20px;
                        cursor: pointer;
                        font-size: 0.9rem;
                    ">Cerrar</button>
                </div>
            `;

            document.body.appendChild(tooltip);

            // Cerrar autom√°ticamente despu√©s de 5 segundos
            setTimeout(() => {
                if (tooltip.parentElement) {
                    tooltip.style.animation = 'modalFadeOut 0.3s ease';
                    setTimeout(() => {
                        if (tooltip.parentElement) {
                            tooltip.parentElement.removeChild(tooltip);
                        }
                    }, 300);
                }
            }, 5000);
        }

        // Funci√≥n para crear animaci√≥n de seguimiento de progreso general
        function createOverallProgressTracker() {
            const blocks = document.querySelectorAll('.bloque[data-progress]');
            let totalProgress = 0;

            blocks.forEach(block => {
                totalProgress += parseInt(block.dataset.progress);
            });

            const averageProgress = Math.round(totalProgress / blocks.length);

            // Crear indicador de progreso general
            const progressTracker = document.createElement('div');
            progressTracker.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: white;
                padding: 1rem;
                border-radius: 10px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.1);
                z-index: 1000;
                min-width: 200px;
                opacity: 0;
                transform: translateY(20px);
                transition: all 0.3s ease;
            `;

            progressTracker.innerHTML = `
                <div style="font-size: 0.85rem; color: #666; margin-bottom: 0.5rem; text-align: center;">
                    Progreso del Programa
                </div>
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <div style="flex: 1; height: 8px; background: #e0e0e0; border-radius: 4px; overflow: hidden;">
                        <div id="overallProgress" style="height: 100%; background: linear-gradient(90deg, #4caf50, #2196f3); width: 0%; transition: width 1s ease; border-radius: 4px;"></div>
                    </div>
                    <span style="font-weight: bold; color: #1a237e; font-size: 0.9rem;">${averageProgress}%</span>
                </div>
                <div style="font-size: 0.75rem; color: #999; margin-top: 0.5rem; text-align: center;">
                    ${blocks.length} bloques completados
                </div>
            `;

            document.body.appendChild(progressTracker);

            // Animar entrada y progreso
            setTimeout(() => {
                progressTracker.style.opacity = '1';
                progressTracker.style.transform = 'translateY(0)';

                setTimeout(() => {
                    document.getElementById('overallProgress').style.width = averageProgress + '%';
                }, 300);
            }, 2000);

            // Ocultar despu√©s de 10 segundos
            setTimeout(() => {
                progressTracker.style.opacity = '0';
                setTimeout(() => {
                    if (progressTracker.parentElement) {
                        progressTracker.parentElement.removeChild(progressTracker);
                    }
                }, 300);
            }, 10000);
        }

        // Inicializar animaciones de indicadores
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                animateBlockIndicators();
                createOverallProgressTracker();
            }, 1000);
        });

        // A√±adir estilos CSS adicionales para animaciones
        const indicatorStyles = `
            @keyframes modalFadeIn {
                from {
                    opacity: 0;
                    transform: translate(-50%, -50%) scale(0.8);
                }
                to {
                    opacity: 1;
                    transform: translate(-50%, -50%) scale(1);
                }
            }

            @keyframes modalFadeOut {
                from {
                    opacity: 1;
                    transform: translate(-50%, -50%) scale(1);
                }
                to {
                    opacity: 0;
                    transform: translate(-50%, -50%) scale(0.8);
                }
            }

            .bloque {
                cursor: pointer;
                position: relative;
            }

            .bloque::after {
                content: '‚ÑπÔ∏è';
                position: absolute;
                top: 1rem;
                right: 1rem;
                font-size: 0.8rem;
                opacity: 0.5;
                transition: opacity 0.3s ease;
            }

            .bloque:hover::after {
                opacity: 1;
            }

            @media (max-width: 768px) {
                .difficulty-indicator,
                .progress-indicator {
                    font-size: 0.75rem;
                    padding: 0.2rem 0.4rem;
                }

                .difficulty-bar,
                .progress-bar {
                    width: 50px;
                    height: 4px;
                }

                .difficulty-text,
                .progress-text {
                    font-size: 0.75rem;
                    min-width: 50px;
                }
            }
        `;

        const indicatorStyleSheet = document.createElement('style');
        indicatorStyleSheet.textContent = indicatorStyles;
        document.head.appendChild(indicatorStyleSheet);

        // =======================================
        // NAVEGACI√ìN STICKY CON SCROLL SUAVE
        // =======================================

        // Funci√≥n para inicializar navegaci√≥n sticky
        function initStickyNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section[id]');

            // Smooth scroll para enlaces de navegaci√≥n
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);

                    if (targetSection) {
                        const offsetTop = targetSection.offsetTop - 80; // Compensar altura de nav sticky
                        window.scrollTo({
                            top: offsetTop,
                            behavior: 'smooth'
                        });

                        // Cerrar men√∫ m√≥vil si est√° abierto
                        const mobileMenu = document.querySelector('.nav-menu');
                        if (mobileMenu && mobileMenu.classList.contains('active')) {
                            mobileMenu.classList.remove('active');
                        }
                    }
                });
            });

            // Detectar secci√≥n activa al hacer scroll
            function updateActiveSection() {
                const scrollY = window.pageYOffset;

                sections.forEach(section => {
                    const sectionHeight = section.offsetHeight;
                    const sectionTop = section.offsetTop - 100;
                    const sectionId = section.getAttribute('id');

                    if (scrollY > sectionTop && scrollY <= sectionTop + sectionHeight) {
                        // Remover clase activa de todos los enlaces
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            link.style.background = 'rgba(255,255,255,0.1)';
                        });

                        // A√±adir clase activa al enlace correspondiente
                        const activeLink = document.querySelector(`.nav-link[href="#${sectionId}"]`);
                        if (activeLink) {
                            activeLink.classList.add('active');
                            activeLink.style.background = 'rgba(255,255,255,0.3)';
                            activeLink.style.transform = 'scale(1.05)';
                        }
                    }
                });

                // Mostrar/ocultar navegaci√≥n sticky seg√∫n scroll
                const stickyNav = document.getElementById('stickyNav');
                if (stickyNav) {
                    if (scrollY > 300) {
                        stickyNav.style.position = 'sticky';
                        stickyNav.style.top = '0';
                    } else {
                        stickyNav.style.position = 'absolute';
                        stickyNav.style.top = '-100px';
                    }
                }
            }

            // Event listeners
            window.addEventListener('scroll', updateActiveSection);
            window.addEventListener('resize', updateActiveSection);

            // Inicializar
            updateActiveSection();

            // Efectos hover mejorados
            navLinks.forEach(link => {
                link.addEventListener('mouseenter', function() {
                    if (!this.classList.contains('active')) {
                        this.style.background = 'rgba(255,255,255,0.25)';
                        this.style.transform = 'scale(1.02)';
                    }
                });

                link.addEventListener('mouseleave', function() {
                    if (!this.classList.contains('active')) {
                        this.style.background = 'rgba(255,255,255,0.1)';
                        this.style.transform = 'scale(1)';
                    }
                });
            });

            // Animar contador r√°pido en navegaci√≥n sticky
            animateQuickSpots();
        }

        // Funci√≥n para animar el contador r√°pido
        function animateQuickSpots() {
            const quickSpotsEl = document.getElementById('quickSpots');
            const targetValue = spotsConfig.totalSpots - spotsConfig.currentEnrolled;
            let currentValue = 0;

            if (quickSpotsEl) {
                const animationDuration = 2000; // 2 segundos
                const stepTime = 50;
                const steps = animationDuration / stepTime;
                const increment = targetValue / steps;

                const counter = setInterval(() => {
                    currentValue += increment;
                    if (currentValue >= targetValue) {
                        currentValue = targetValue;
                        clearInterval(counter);
                    }
                    quickSpotsEl.textContent = Math.floor(currentValue);
                }, stepTime);
            }
        }

        // Funci√≥n para integrar con backend real
        async function fetchRealEnrollmentData() {
            try {
                const API_URL = typeof BACKEND_CONFIG !== 'undefined'
                    ? BACKEND_CONFIG.apiUrl
                    : 'https://sindicato-mu.vercel.app';

                // Endpoint para obtener datos de inscripciones reales
                const response = await fetch(`${API_URL}/api/curso-ia/enrollment-stats`);

                if (response.ok) {
                    const data = await response.json();

                    // Actualizar configuraci√≥n con datos reales
                    if (data.totalSpots !== undefined) spotsConfig.totalSpots = data.totalSpots;
                    if (data.currentEnrolled !== undefined) spotsConfig.currentEnrolled = data.currentEnrolled;
                    if (data.reserved !== undefined) spotsConfig.reserved = data.reserved;

                    // Actualizar todos los contadores
                    updateSpotsCounter();
                    showNotification('üìä Datos de inscripciones actualizados', 'success');
                } else {
                    console.warn('No se pudieron obtener datos reales del backend');
                }
            } catch (error) {
                console.error('Error obteniendo datos de inscripciones:', error);
                // Mostrar notificaci√≥n de que se usan datos simulados
                showNotification('‚ö†Ô∏è Usando datos de inscripciones simulados', 'info');
            }
        }

        // Inicializar navegaci√≥n sticky
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                initStickyNavigation();

                // Intentar obtener datos reales del backend
                fetchRealEnrollmentData();

                // Actualizar datos peri√≥dicamente
                setInterval(fetchRealEnrollmentData, 60000); // Cada minuto
            }, 1500);
        });

        // A√±adir estilos CSS para navegaci√≥n sticky
        const navStyles = `
            .nav-link {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }

            .nav-link.active {
                background: rgba(255,255,255,0.3) !important;
                transform: scale(1.05);
                box-shadow: 0 2px 10px rgba(255,255,255,0.2);
            }

            .nav-link:hover {
                transform: scale(1.02);
            }

            .quick-spots {
                animation: pulse 2s ease-in-out infinite;
            }

            .quick-enroll:hover {
                transform: scale(1.05);
                box-shadow: 0 4px 20px rgba(76, 175, 80, 0.4) !important;
            }

            .sticky-navigation {
                transition: all 0.3s ease;
            }

            /* Responsive para m√≥vil */
            @media (max-width: 768px) {
                .nav-container {
                    flex-direction: column;
                    gap: 1rem;
                }

                .nav-links {
                    flex-wrap: wrap;
                    justify-content: center;
                    gap: 0.5rem;
                }

                .nav-link {
                    font-size: 0.8rem;
                    padding: 0.4rem 0.8rem;
                }

                .quick-spots,
                .quick-enroll {
                    width: 100%;
                    text-align: center;
                }
            }

            /* Animaci√≥n de pulso para indicador de urgencia */
            @keyframes pulse {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.05); }
            }

            /* Scroll suave */
            html {
                scroll-behavior: smooth;
            }
        `;

        const navStyleSheet = document.createElement('style');
        navStyleSheet.textContent = navStyles;
        document.head.appendChild(navStyleSheet);
    </script>
</body>
</html>
